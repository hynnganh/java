{"ast":null,"code":"// // src/services/authService.js\n// import api from \"./api\";\n\n// const authService = {\n//   register: (data) => api.post(\"/register\", data),\n//   login: (data) => api.post(\"/login\", data),\n//   logout: () => {\n//     localStorage.removeItem(\"user\");\n//     localStorage.removeItem(\"token\");\n//   },\n\n// };\n\n// export default authService;\n// services/authService.js\nimport api from \"./api\";\nconst authService = {\n  async login(credentials) {\n    const response = await api.post(\"/auth/login\", credentials);\n\n    // ✅ Chuẩn hóa response: đổi 'jwt-token' thành 'token'\n    if (response.data['jwt-token']) {\n      response.data.token = response.data['jwt-token'];\n      delete response.data['jwt-token'];\n    }\n    return response;\n  },\n  async register(userData) {\n    const response = await api.post(\"/auth/register\", userData);\n    return response;\n  },\n  async getCurrentUser() {\n    try {\n      const response = await api.get(\"/auth/me\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Error getting current user:\", error);\n      throw error;\n    }\n  },\n  async logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","credentials","response","post","data","token","register","userData","getCurrentUser","get","error","console","logout","localStorage","removeItem"],"sources":["D:/JVA/frontend/src/services/authService.js"],"sourcesContent":["// // src/services/authService.js\n// import api from \"./api\";\n\n// const authService = {\n//   register: (data) => api.post(\"/register\", data),\n//   login: (data) => api.post(\"/login\", data),\n//   logout: () => {\n//     localStorage.removeItem(\"user\");\n//     localStorage.removeItem(\"token\");\n//   },\n\n\n  \n// };\n\n// export default authService;\n// services/authService.js\nimport api from \"./api\";\n\nconst authService = {\n  async login(credentials) {\n    const response = await api.post(\"/auth/login\", credentials);\n    \n    // ✅ Chuẩn hóa response: đổi 'jwt-token' thành 'token'\n    if (response.data['jwt-token']) {\n      response.data.token = response.data['jwt-token'];\n      delete response.data['jwt-token'];\n    }\n    \n    return response;\n  },\n\n  async register(userData) {\n    const response = await api.post(\"/auth/register\", userData);\n    return response;\n  },\n\n  async getCurrentUser() {\n    try {\n      const response = await api.get(\"/auth/me\");\n      return response.data;\n    } catch (error) {\n      console.error(\"Error getting current user:\", error);\n      throw error;\n    }\n  },\n\n  async logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n  }\n};\n\nexport default authService;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;;AAEA;AACA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,GAAG;EAClB,MAAMC,KAAKA,CAACC,WAAW,EAAE;IACvB,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAEF,WAAW,CAAC;;IAE3D;IACA,IAAIC,QAAQ,CAACE,IAAI,CAAC,WAAW,CAAC,EAAE;MAC9BF,QAAQ,CAACE,IAAI,CAACC,KAAK,GAAGH,QAAQ,CAACE,IAAI,CAAC,WAAW,CAAC;MAChD,OAAOF,QAAQ,CAACE,IAAI,CAAC,WAAW,CAAC;IACnC;IAEA,OAAOF,QAAQ;EACjB,CAAC;EAED,MAAMI,QAAQA,CAACC,QAAQ,EAAE;IACvB,MAAML,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,gBAAgB,EAAEI,QAAQ,CAAC;IAC3D,OAAOL,QAAQ;EACjB,CAAC;EAED,MAAMM,cAAcA,CAAA,EAAG;IACrB,IAAI;MACF,MAAMN,QAAQ,GAAG,MAAMJ,GAAG,CAACW,GAAG,CAAC,UAAU,CAAC;MAC1C,OAAOP,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAME,MAAMA,CAAA,EAAG;IACbC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;EACjC;AACF,CAAC;AAED,eAAef,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}