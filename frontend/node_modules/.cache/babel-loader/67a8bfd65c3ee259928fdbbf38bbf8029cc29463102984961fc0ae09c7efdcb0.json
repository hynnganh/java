{"ast":null,"code":"// // src/services/categoryService.js\n// import api from \"./api\";\n\n// const categoryService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   async addProductToCategory(categoryId, productDTO) {\n//     return await api.post(`/admin/categories/${categoryId}/product`, productDTO);\n//   },\n\n//   async removeProductFromCategory(categoryId, productId) {\n//     return await api.delete(`/admin/categories/${categoryId}/product/${productId}`);\n//   },\n\n//   async createCategory(categoryDTO) {\n//     return await api.post(\"/admin/categories\", categoryDTO);\n//   },\n\n//   async updateCategory(categoryId, categoryDTO) {\n//     return await api.put(`/admin/categories/${categoryId}`, categoryDTO);\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\nconst categoryService = {\n  // üîµ GET: /api/public/categories\n  // Ph·∫£i truy·ªÅn pageNumber, pageSize ƒë·ªÉ kh·ªõp v·ªõi @GetMapping trong Controller\n  async getAllCategories(pageNumber = 0, pageSize = 50) {\n    try {\n      // Controller c·ªßa m√†y d√πng @RequestParam\n      const response = await api.get(`/public/categories`, {\n        params: {\n          pageNumber: pageNumber,\n          pageSize: pageSize,\n          sortBy: \"categoryId\",\n          sortOrder: \"asc\"\n        }\n      });\n\n      // V√¨ Controller tr·∫£ v·ªÅ ResponseEntity<CategoryResponse>\n      // n√™n data s·∫Ω ch·ª©a { content: [...], pageNumber: 0, totalPages: 5, ... }\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n      throw error;\n    }\n  },\n  // üü¢ POST: /api/admin/categories\n  // Kh·ªõp v·ªõi @PostMapping({\"/admin/categories\"})\n  async createCategory(categoryData) {\n    // categoryData n√™n l√† { categoryName: \"T√™n danh m·ª•c\" }\n    return await api.post(\"/admin/categories\", categoryData);\n  },\n  // üü† PUT: /api/admin/categories/{categoryId}\n  // Kh·ªõp v·ªõi @PutMapping({\"/admin/categories/{categoryId}\"})\n  async updateCategory(categoryId, categoryData) {\n    return await api.put(`/admin/categories/${categoryId}`, categoryData);\n  },\n  // üî¥ DELETE: /api/admin/categories/{categoryId}\n  // Kh·ªõp v·ªõi @DeleteMapping({\"/admin/categories/{categoryId}\"})\n  async deleteCategory(categoryId) {\n    return await api.delete(`/admin/categories/${categoryId}`);\n  },\n  // üîµ GET: /api/public/categories/{categoryId}\n  async getCategoryById(categoryId) {\n    return await api.get(`/public/categories/${categoryId}`);\n  }\n};\nexport default categoryService;","map":{"version":3,"names":["api","categoryService","getAllCategories","pageNumber","pageSize","response","get","params","sortBy","sortOrder","data","error","console","createCategory","categoryData","post","updateCategory","categoryId","put","deleteCategory","delete","getCategoryById"],"sources":["E:/Java/DoAn/frontend/src/services/categoryService.js"],"sourcesContent":["// // src/services/categoryService.js\n// import api from \"./api\";\n\n// const categoryService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   async addProductToCategory(categoryId, productDTO) {\n//     return await api.post(`/admin/categories/${categoryId}/product`, productDTO);\n//   },\n\n//   async removeProductFromCategory(categoryId, productId) {\n//     return await api.delete(`/admin/categories/${categoryId}/product/${productId}`);\n//   },\n   \n//   async createCategory(categoryDTO) {\n//     return await api.post(\"/admin/categories\", categoryDTO);\n//   },\n\n//   async updateCategory(categoryId, categoryDTO) {\n//     return await api.put(`/admin/categories/${categoryId}`, categoryDTO);\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\n\nconst categoryService = {\n  // üîµ GET: /api/public/categories\n  // Ph·∫£i truy·ªÅn pageNumber, pageSize ƒë·ªÉ kh·ªõp v·ªõi @GetMapping trong Controller\n  async getAllCategories(pageNumber = 0, pageSize = 50) {\n    try {\n      // Controller c·ªßa m√†y d√πng @RequestParam\n      const response = await api.get(`/public/categories`, {\n        params: {\n          pageNumber: pageNumber,\n          pageSize: pageSize,\n          sortBy: \"categoryId\",\n          sortOrder: \"asc\"\n        }\n      });\n\n      // V√¨ Controller tr·∫£ v·ªÅ ResponseEntity<CategoryResponse>\n      // n√™n data s·∫Ω ch·ª©a { content: [...], pageNumber: 0, totalPages: 5, ... }\n      return response.data; \n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ POST: /api/admin/categories\n  // Kh·ªõp v·ªõi @PostMapping({\"/admin/categories\"})\n  async createCategory(categoryData) {\n    // categoryData n√™n l√† { categoryName: \"T√™n danh m·ª•c\" }\n    return await api.post(\"/admin/categories\", categoryData);\n  },\n\n  // üü† PUT: /api/admin/categories/{categoryId}\n  // Kh·ªõp v·ªõi @PutMapping({\"/admin/categories/{categoryId}\"})\n  async updateCategory(categoryId, categoryData) {\n    return await api.put(`/admin/categories/${categoryId}`, categoryData);\n  },\n\n  // üî¥ DELETE: /api/admin/categories/{categoryId}\n  // Kh·ªõp v·ªõi @DeleteMapping({\"/admin/categories/{categoryId}\"})\n  async deleteCategory(categoryId) {\n    return await api.delete(`/admin/categories/${categoryId}`);\n  },\n\n  // üîµ GET: /api/public/categories/{categoryId}\n  async getCategoryById(categoryId) {\n    return await api.get(`/public/categories/${categoryId}`);\n  }\n};\n\nexport default categoryService;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,eAAe,GAAG;EACtB;EACA;EACA,MAAMC,gBAAgBA,CAACC,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,EAAE,EAAE;IACpD,IAAI;MACF;MACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAE;QACnDC,MAAM,EAAE;UACNJ,UAAU,EAAEA,UAAU;UACtBC,QAAQ,EAAEA,QAAQ;UAClBI,MAAM,EAAE,YAAY;UACpBC,SAAS,EAAE;QACb;MACF,CAAC,CAAC;;MAEF;MACA;MACA,OAAOJ,QAAQ,CAACK,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA;EACA,MAAME,cAAcA,CAACC,YAAY,EAAE;IACjC;IACA,OAAO,MAAMd,GAAG,CAACe,IAAI,CAAC,mBAAmB,EAAED,YAAY,CAAC;EAC1D,CAAC;EAED;EACA;EACA,MAAME,cAAcA,CAACC,UAAU,EAAEH,YAAY,EAAE;IAC7C,OAAO,MAAMd,GAAG,CAACkB,GAAG,CAAC,qBAAqBD,UAAU,EAAE,EAAEH,YAAY,CAAC;EACvE,CAAC;EAED;EACA;EACA,MAAMK,cAAcA,CAACF,UAAU,EAAE;IAC/B,OAAO,MAAMjB,GAAG,CAACoB,MAAM,CAAC,qBAAqBH,UAAU,EAAE,CAAC;EAC5D,CAAC;EAED;EACA,MAAMI,eAAeA,CAACJ,UAAU,EAAE;IAChC,OAAO,MAAMjB,GAAG,CAACM,GAAG,CAAC,sBAAsBW,UAAU,EAAE,CAAC;EAC1D;AACF,CAAC;AAED,eAAehB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}