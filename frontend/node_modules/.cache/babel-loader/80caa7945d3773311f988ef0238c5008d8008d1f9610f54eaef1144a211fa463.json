{"ast":null,"code":"// // // src/services/api.js\n// // import axios from \"axios\";\n\n// // const api = axios.create({\n// //   baseURL: \"http://localhost:8080/api\",\n// //   headers: {\n// //     \"Content-Type\": \"application/json\",\n// //   },\n// // });\n\n// // // ðŸ›¡ï¸ Náº¿u cÃ³ token -> tá»± Ä‘á»™ng gáº¯n vÃ o header\n// // api.interceptors.request.use(\n// //   (config) => {\n// //     const token = localStorage.getItem(\"token\");\n// //     if (token) {\n// //       config.headers.Authorization = `Bearer ${token}`;\n// //     }\n// //     return config;\n// //   },\n// //   (error) => Promise.reject(error)\n// // );\n\n// // export default api;\n// import axios from \"axios\";\n\n// const api = axios.create({\n//   baseURL: \"http://localhost:8080/api\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//   },\n// });\n\n// // ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\n// api.interceptors.request.use(\n//   (config) => {\n//     // Æ¯u tiÃªn láº¥y admin-token trÆ°á»›c, náº¿u khÃ´ng cÃ³ thÃ¬ láº¥y token user\n//     const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\");\n\n//     if (token) {\n//       config.headers.Authorization = `Bearer ${token}`;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     return Promise.reject(error);\n//   }\n// );\n\n// export default api;\n\nimport axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\napi.interceptors.request.use(config => {\n  // 1. Thá»­ láº¥y táº¥t cáº£ cÃ¡c tÃªn key cÃ³ kháº£ nÄƒng (Sá»­a láº¡i cho Ä‘Ãºng thá»±c táº¿ storage cá»§a mÃ y)\n  const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\") || localStorage.getItem(\"jwt-token\"); // ThÃªm cÃ¡i nÃ y náº¿u mÃ y lÆ°u lÃ  jwt-token\n\n  // 2. Kiá»ƒm tra xem cÃ³ láº¥y Ä‘Æ°á»£c token khÃ´ng\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n    // Log nÃ y Ä‘á»ƒ mÃ y cháº¯c cháº¯n lÃ  request Gá»¬I ÄI Ä‘Ã£ cÃ³ token\n    console.log(\"ðŸ”‘ API Request: ÄÃ£ gáº¯n token vÃ o Header\");\n  } else {\n    // Log nÃ y cáº£nh bÃ¡o náº¿u chÆ°a láº¥y Ä‘Æ°á»£c token tá»« LocalStorage\n    console.warn(\"âš ï¸ API Request: KhÃ´ng tÃ¬m tháº¥y Token trong LocalStorage!\");\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","console","log","warn","error","Promise","reject"],"sources":["E:/Java/DoAn/frontend/src/services/api.js"],"sourcesContent":["// // // src/services/api.js\n// // import axios from \"axios\";\n\n// // const api = axios.create({\n// //   baseURL: \"http://localhost:8080/api\",\n// //   headers: {\n// //     \"Content-Type\": \"application/json\",\n// //   },\n// // });\n\n// // // ðŸ›¡ï¸ Náº¿u cÃ³ token -> tá»± Ä‘á»™ng gáº¯n vÃ o header\n// // api.interceptors.request.use(\n// //   (config) => {\n// //     const token = localStorage.getItem(\"token\");\n// //     if (token) {\n// //       config.headers.Authorization = `Bearer ${token}`;\n// //     }\n// //     return config;\n// //   },\n// //   (error) => Promise.reject(error)\n// // );\n\n// // export default api;\n// import axios from \"axios\";\n\n// const api = axios.create({\n//   baseURL: \"http://localhost:8080/api\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//   },\n// });\n\n// // ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\n// api.interceptors.request.use(\n//   (config) => {\n//     // Æ¯u tiÃªn láº¥y admin-token trÆ°á»›c, náº¿u khÃ´ng cÃ³ thÃ¬ láº¥y token user\n//     const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\");\n    \n//     if (token) {\n//       config.headers.Authorization = `Bearer ${token}`;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     return Promise.reject(error);\n//   }\n// );\n\n// export default api;\n\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\napi.interceptors.request.use(\n  (config) => {\n    // 1. Thá»­ láº¥y táº¥t cáº£ cÃ¡c tÃªn key cÃ³ kháº£ nÄƒng (Sá»­a láº¡i cho Ä‘Ãºng thá»±c táº¿ storage cá»§a mÃ y)\n    const token = localStorage.getItem(\"admin-token\") || \n                  localStorage.getItem(\"token\") || \n                  localStorage.getItem(\"jwt-token\"); // ThÃªm cÃ¡i nÃ y náº¿u mÃ y lÆ°u lÃ  jwt-token\n    \n    // 2. Kiá»ƒm tra xem cÃ³ láº¥y Ä‘Æ°á»£c token khÃ´ng\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n      // Log nÃ y Ä‘á»ƒ mÃ y cháº¯c cháº¯n lÃ  request Gá»¬I ÄI Ä‘Ã£ cÃ³ token\n      console.log(\"ðŸ”‘ API Request: ÄÃ£ gáº¯n token vÃ o Header\");\n    } else {\n      // Log nÃ y cáº£nh bÃ¡o náº¿u chÆ°a láº¥y Ä‘Æ°á»£c token tá»« LocalStorage\n      console.warn(\"âš ï¸ API Request: KhÃ´ng tÃ¬m tháº¥y Token trong LocalStorage!\");\n    }\n    \n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default api;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,IACnCD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAC7BD,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;;EAEjD;EACA,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;IAChD;IACAI,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;EACxD,CAAC,MAAM;IACL;IACAD,OAAO,CAACE,IAAI,CAAC,0DAA0D,CAAC;EAC1E;EAEA,OAAOP,MAAM;AACf,CAAC,EACAQ,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAef,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}