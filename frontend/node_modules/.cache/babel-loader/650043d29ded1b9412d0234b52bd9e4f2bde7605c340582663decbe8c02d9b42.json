{"ast":null,"code":"// export default api;\nimport axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// // ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\n// api.interceptors.request.use(\n//   (config) => {\n//     // Æ¯u tiÃªn láº¥y admin-token trÆ°á»›c, náº¿u khÃ´ng cÃ³ thÃ¬ láº¥y token user\n//     const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\");\n\n//     if (token) {\n//       config.headers.Authorization = `Bearer ${token}`;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     return Promise.reject(error);\n//   }\n// );\n\n// export default api;\n\n// src/services/api.js\napi.interceptors.request.use(config => {\n  // Thá»­ táº¥t cáº£ cÃ¡c tÃªn mÃ y cÃ³ thá»ƒ Ä‘Ã£ Ä‘áº·t\n  const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\") || localStorage.getItem(\"jwt-token\") || localStorage.getItem(\"jwtToken\"); // Kiá»ƒm tra cáº£ kiá»ƒu camelCase\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n    console.log(\"ðŸ”‘ ÄÃ£ gáº¯n Token vÃ o Header thÃ nh cÃ´ng!\");\n  } else {\n    console.error(\"âš ï¸ KHÃ”NG TÃŒM THáº¤Y TOKEN TRONG STORAGE!\");\n  }\n  return config;\n}, error => Promise.reject(error));","map":{"version":3,"names":["axios","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","console","log","error","Promise","reject"],"sources":["E:/Java/DoAn/frontend/src/services/api.js"],"sourcesContent":["// export default api;\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8080/api\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// // ðŸ›¡ï¸ Tá»± Ä‘á»™ng gáº¯n Token vÃ o Header cho cáº£ User vÃ  Admin\n// api.interceptors.request.use(\n//   (config) => {\n//     // Æ¯u tiÃªn láº¥y admin-token trÆ°á»›c, náº¿u khÃ´ng cÃ³ thÃ¬ láº¥y token user\n//     const token = localStorage.getItem(\"admin-token\") || localStorage.getItem(\"token\");\n    \n//     if (token) {\n//       config.headers.Authorization = `Bearer ${token}`;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     return Promise.reject(error);\n//   }\n// );\n\n// export default api;\n\n// src/services/api.js\napi.interceptors.request.use(\n  (config) => {\n    // Thá»­ táº¥t cáº£ cÃ¡c tÃªn mÃ y cÃ³ thá»ƒ Ä‘Ã£ Ä‘áº·t\n    const token = localStorage.getItem(\"admin-token\") || \n                  localStorage.getItem(\"token\") || \n                  localStorage.getItem(\"jwt-token\") ||\n                  localStorage.getItem(\"jwtToken\"); // Kiá»ƒm tra cáº£ kiá»ƒu camelCase\n\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n      console.log(\"ðŸ”‘ ÄÃ£ gáº¯n Token vÃ o Header thÃ nh cÃ´ng!\"); \n    } else {\n      console.error(\"âš ï¸ KHÃ”NG TÃŒM THáº¤Y TOKEN TRONG STORAGE!\");\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,IACnCD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAC7BD,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IACjCD,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;;EAEhD,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;IAChDI,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;EACvD,CAAC,MAAM;IACLD,OAAO,CAACE,KAAK,CAAC,wCAAwC,CAAC;EACzD;EACA,OAAOP,MAAM;AACf,CAAC,EACAO,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}