{"ast":null,"code":"var _jsxFileName = \"E:\\\\Java\\\\DoAn\\\\frontend\\\\src\\\\pages\\\\order\\\\CheckOut.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport cartService from '../../services/cartService';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const [cart, setCart] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [processing, setProcessing] = useState(false);\n  const [user, setUser] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState('COD');\n  const [shippingAddress, setShippingAddress] = useState('');\n  const [mobileNumber, setMobileNumber] = useState('');\n  const navigate = useNavigate();\n  const currentUser = JSON.parse(localStorage.getItem('user'));\n  useEffect(() => {\n    loadCartAndUser();\n  }, []);\n  const loadCartAndUser = async () => {\n    if (!currentUser || !currentUser.email) {\n      Swal.fire('Thông báo', 'Vui lòng đăng nhập để tiếp tục', 'info');\n      navigate('/login');\n      return;\n    }\n    try {\n      setLoading(true);\n      const cartData = await cartService.getActiveCart(currentUser.email);\n      if (!cartData || !cartData.products || cartData.products.length === 0) {\n        navigate('/cart');\n        return;\n      }\n      setCart(cartData);\n      setUser(currentUser);\n      setMobileNumber(currentUser.mobileNumber || '');\n      setShippingAddress(localStorage.getItem('shippingAddress') || '');\n    } catch (error) {\n      Swal.fire('Lỗi', 'Không thể tải dữ liệu giỏ hàng', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePlaceOrder = async () => {\n    const phoneClean = mobileNumber.trim();\n    if (!phoneClean || !/^[0-9]{10,11}$/.test(phoneClean)) {\n      Swal.fire('Lỗi', 'Số điện thoại không hợp lệ (10-11 số)', 'warning');\n      return;\n    }\n    if (!shippingAddress.trim()) {\n      Swal.fire('Thông tin trống', 'Vui lòng nhập địa chỉ giao hàng', 'warning');\n      return;\n    }\n    const result = await Swal.fire({\n      title: 'Xác nhận đặt hàng?',\n      text: paymentMethod === 'BANKING' ? 'Hệ thống sẽ chuyển hướng đến cổng VNPay' : 'Xác nhận đặt hàng thanh toán tiền mặt',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#ffc107',\n      confirmButtonText: 'Đồng ý',\n      cancelButtonText: 'Hủy'\n    });\n    if (result.isConfirmed) {\n      try {\n        setProcessing(true);\n        localStorage.setItem('shippingAddress', shippingAddress);\n\n        // --- XỬ LÝ THANH TOÁN ONLINE (GỌI JAVA BACKEND) ---\n        if (paymentMethod === 'BANKING') {\n          // FIX TẠI ĐÂY: Gọi API Java cổng 8080 thay vì 3000\n          const response = await axios.get(`http://localhost:8080/api/payment/create-payment`, {\n            params: {\n              amount: totalAmount\n            }\n          });\n          if (response.data.url) {\n            localStorage.setItem('pendingOrder', JSON.stringify({\n              email: user.email,\n              cartId: cart.cartId,\n              address: shippingAddress,\n              phone: phoneClean,\n              method: 'BANKING'\n            }));\n            // Chuyển hướng sang VNPay\n            window.location.href = response.data.url;\n            return;\n          }\n        }\n\n        // --- XỬ LÝ THANH TOÁN TIỀN MẶT (COD) ---\n        await cartService.createOrder(user.email, cart.cartId, 'COD', shippingAddress, phoneClean);\n        await cartService.clearCart(user.email, cart.cartId);\n        await Swal.fire({\n          icon: 'success',\n          title: 'Thành công!',\n          text: 'Đơn hàng đã được tiếp nhận.',\n          timer: 2000,\n          showConfirmButton: false\n        });\n        navigate('/orders');\n      } catch (error) {\n        console.error(\"Lỗi đặt hàng:\", error);\n        Swal.fire('Thất bại', 'Không thể kết nối với máy chủ thanh toán', 'error');\n      } finally {\n        setProcessing(false);\n      }\n    }\n  };\n  const totalAmount = cart ? cartService.calculateTotal(cart.products) : 0;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5 text-center py-5\",\n    children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4 mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"fw-bold mb-4 text-uppercase text-center\",\n      children: \"Ho\\xE0n t\\u1EA5t \\u0111\\u1EB7t h\\xE0ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-7\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm border-0 rounded-4 p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"fw-bold mb-3 border-bottom pb-2\",\n            children: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label small fw-bold\",\n              children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control bg-light\",\n              value: `${(user === null || user === void 0 ? void 0 : user.firstName) || ''} ${(user === null || user === void 0 ? void 0 : user.lastName) || ''}`,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label small fw-bold text-danger\",\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              className: \"form-control border-warning shadow-none\",\n              value: mobileNumber,\n              onChange: e => setMobileNumber(e.target.value.replace(/[^0-9]/g, '')),\n              placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i shipper li\\xEAn l\\u1EA1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label small fw-bold text-danger\",\n              children: \"\\u0110\\u1ECBa ch\\u1EC9 giao h\\xE0ng *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control border-warning shadow-none\",\n              rows: \"3\",\n              value: shippingAddress,\n              onChange: e => setShippingAddress(e.target.value),\n              placeholder: \"S\\u1ED1 nh\\xE0, t\\xEAn \\u0111\\u01B0\\u1EDDng, ph\\u01B0\\u1EDDng/x\\xE3...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"fw-bold mt-4 mb-3 border-bottom pb-2\",\n            children: \"H\\xECnh th\\u1EE9c thanh to\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 mb-2 rounded border d-flex align-items-center ${paymentMethod === 'COD' ? 'border-warning bg-light' : ''}`,\n            onClick: () => setPaymentMethod('COD'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              checked: paymentMethod === 'COD',\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ms-3 fw-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-truck me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 60\n              }, this), \"Thanh to\\xE1n khi nh\\u1EADn h\\xE0ng (COD)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 mb-2 rounded border d-flex align-items-center ${paymentMethod === 'BANKING' ? 'border-warning bg-light' : ''}`,\n            onClick: () => setPaymentMethod('BANKING'),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              checked: paymentMethod === 'BANKING',\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ms-3 fw-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-credit-card me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 60\n              }, this), \"Thanh to\\xE1n qua VNPay\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-sm border-0 rounded-4 p-4 sticky-top\",\n          style: {\n            top: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"fw-bold mb-4\",\n            children: \"T\\xF3m t\\u1EAFt \\u0111\\u01A1n h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            style: {\n              maxHeight: '250px',\n              overflowY: 'auto'\n            },\n            children: cart.products.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"small text-muted text-truncate\",\n                style: {\n                  maxWidth: '70%'\n                },\n                children: [item.productName, \" (x\", item.quantity, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fw-bold small\",\n                children: [((item.specialPrice || item.price) * item.quantity).toLocaleString(), \"\\u20AB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 37\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between h4 fw-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"T\\u1ED5ng ti\\u1EC1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-danger\",\n              children: [totalAmount.toLocaleString(), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning w-100 py-3 mt-4 fw-bold rounded-pill text-uppercase shadow-sm\",\n            onClick: handlePlaceOrder,\n            disabled: processing,\n            children: processing ? 'Đang xử lý...' : 'Xác nhận đặt hàng'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"BvJICQLGLRacN4XyYhVAyfGnlA8=\", false, function () {\n  return [useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","cartService","Swal","axios","jsxDEV","_jsxDEV","Checkout","_s","cart","setCart","loading","setLoading","processing","setProcessing","user","setUser","paymentMethod","setPaymentMethod","shippingAddress","setShippingAddress","mobileNumber","setMobileNumber","navigate","currentUser","JSON","parse","localStorage","getItem","loadCartAndUser","email","fire","cartData","getActiveCart","products","length","error","handlePlaceOrder","phoneClean","trim","test","result","title","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","isConfirmed","setItem","response","get","params","amount","totalAmount","data","url","stringify","cartId","address","phone","method","window","location","href","createOrder","clearCart","timer","showConfirmButton","console","calculateTotal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","firstName","lastName","readOnly","onChange","e","target","replace","placeholder","rows","onClick","style","cursor","checked","top","maxHeight","overflowY","map","item","idx","maxWidth","productName","quantity","specialPrice","price","toLocaleString","disabled","_c","$RefreshReg$"],"sources":["E:/Java/DoAn/frontend/src/pages/order/CheckOut.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport cartService from '../../services/cartService';\nimport Swal from 'sweetalert2';\nimport axios from 'axios'; \n\nconst Checkout = () => {\n    const [cart, setCart] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [processing, setProcessing] = useState(false);\n    const [user, setUser] = useState(null);\n    const [paymentMethod, setPaymentMethod] = useState('COD');\n    const [shippingAddress, setShippingAddress] = useState('');\n    const [mobileNumber, setMobileNumber] = useState('');\n    const navigate = useNavigate();\n\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n\n    useEffect(() => {\n        loadCartAndUser();\n    }, []);\n\n    const loadCartAndUser = async () => {\n        if (!currentUser || !currentUser.email) {\n            Swal.fire('Thông báo', 'Vui lòng đăng nhập để tiếp tục', 'info');\n            navigate('/login');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            const cartData = await cartService.getActiveCart(currentUser.email);\n            if (!cartData || !cartData.products || cartData.products.length === 0) {\n                navigate('/cart');\n                return;\n            }\n            setCart(cartData);\n            setUser(currentUser);\n            setMobileNumber(currentUser.mobileNumber || '');\n            setShippingAddress(localStorage.getItem('shippingAddress') || '');\n        } catch (error) {\n            Swal.fire('Lỗi', 'Không thể tải dữ liệu giỏ hàng', 'error');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handlePlaceOrder = async () => {\n        const phoneClean = mobileNumber.trim();\n        \n        if (!phoneClean || !/^[0-9]{10,11}$/.test(phoneClean)) {\n            Swal.fire('Lỗi', 'Số điện thoại không hợp lệ (10-11 số)', 'warning');\n            return;\n        }\n        if (!shippingAddress.trim()) {\n            Swal.fire('Thông tin trống', 'Vui lòng nhập địa chỉ giao hàng', 'warning');\n            return;\n        }\n\n        const result = await Swal.fire({\n            title: 'Xác nhận đặt hàng?',\n            text: paymentMethod === 'BANKING' ? 'Hệ thống sẽ chuyển hướng đến cổng VNPay' : 'Xác nhận đặt hàng thanh toán tiền mặt',\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: '#ffc107',\n            confirmButtonText: 'Đồng ý',\n            cancelButtonText: 'Hủy'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                setProcessing(true);\n                localStorage.setItem('shippingAddress', shippingAddress);\n\n                // --- XỬ LÝ THANH TOÁN ONLINE (GỌI JAVA BACKEND) ---\n                if (paymentMethod === 'BANKING') {\n                    // FIX TẠI ĐÂY: Gọi API Java cổng 8080 thay vì 3000\n                    const response = await axios.get(`http://localhost:8080/api/payment/create-payment`, {\n                        params: { amount: totalAmount }\n                    });\n\n                    if (response.data.url) {\n                        localStorage.setItem('pendingOrder', JSON.stringify({\n                            email: user.email,\n                            cartId: cart.cartId,\n                            address: shippingAddress,\n                            phone: phoneClean,\n                            method: 'BANKING'\n                        }));\n                        // Chuyển hướng sang VNPay\n                        window.location.href = response.data.url;\n                        return; \n                    }\n                }\n\n                // --- XỬ LÝ THANH TOÁN TIỀN MẶT (COD) ---\n                await cartService.createOrder(user.email, cart.cartId, 'COD', shippingAddress, phoneClean);\n                await cartService.clearCart(user.email, cart.cartId);\n                \n                await Swal.fire({ icon: 'success', title: 'Thành công!', text: 'Đơn hàng đã được tiếp nhận.', timer: 2000, showConfirmButton: false });\n                navigate('/orders');\n                \n            } catch (error) {\n                console.error(\"Lỗi đặt hàng:\", error);\n                Swal.fire('Thất bại', 'Không thể kết nối với máy chủ thanh toán', 'error');\n            } finally {\n                setProcessing(false);\n            }\n        }\n    };\n\n    const totalAmount = cart ? cartService.calculateTotal(cart.products) : 0;\n\n    if (loading) return <div className=\"container mt-5 text-center py-5\">Đang tải dữ liệu...</div>;\n\n    return (\n        <div className=\"container mt-4 mb-5\">\n            <h3 className=\"fw-bold mb-4 text-uppercase text-center\">Hoàn tất đặt hàng</h3>\n            <div className=\"row g-4\">\n                <div className=\"col-lg-7\">\n                    <div className=\"card shadow-sm border-0 rounded-4 p-4\">\n                        <h5 className=\"fw-bold mb-3 border-bottom pb-2\">Thông tin người nhận</h5>\n                        <div className=\"mb-3\">\n                            <label className=\"form-label small fw-bold\">Họ và tên</label>\n                            <input type=\"text\" className=\"form-control bg-light\" value={`${user?.firstName || ''} ${user?.lastName || ''}`} readOnly />\n                        </div>\n                        <div className=\"mb-3\">\n                            <label className=\"form-label small fw-bold text-danger\">Số điện thoại *</label>\n                            <input type=\"tel\" className=\"form-control border-warning shadow-none\" value={mobileNumber} onChange={(e) => setMobileNumber(e.target.value.replace(/[^0-9]/g, ''))} placeholder=\"Số điện thoại shipper liên lạc\" />\n                        </div>\n                        <div className=\"mb-3\">\n                            <label className=\"form-label small fw-bold text-danger\">Địa chỉ giao hàng *</label>\n                            <textarea className=\"form-control border-warning shadow-none\" rows=\"3\" value={shippingAddress} onChange={(e) => setShippingAddress(e.target.value)} placeholder=\"Số nhà, tên đường, phường/xã...\"></textarea>\n                        </div>\n\n                        <h5 className=\"fw-bold mt-4 mb-3 border-bottom pb-2\">Hình thức thanh toán</h5>\n                        <div className={`p-3 mb-2 rounded border d-flex align-items-center ${paymentMethod === 'COD' ? 'border-warning bg-light' : ''}`} onClick={() => setPaymentMethod('COD')} style={{cursor: 'pointer'}}>\n                            <input type=\"radio\" checked={paymentMethod === 'COD'} readOnly />\n                            <span className=\"ms-3 fw-bold\"><i className=\"fas fa-truck me-2\"></i>Thanh toán khi nhận hàng (COD)</span>\n                        </div>\n                        <div className={`p-3 mb-2 rounded border d-flex align-items-center ${paymentMethod === 'BANKING' ? 'border-warning bg-light' : ''}`} onClick={() => setPaymentMethod('BANKING')} style={{cursor: 'pointer'}}>\n                            <input type=\"radio\" checked={paymentMethod === 'BANKING'} readOnly />\n                            <span className=\"ms-3 fw-bold\"><i className=\"fas fa-credit-card me-2\"></i>Thanh toán qua VNPay</span>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"col-lg-5\">\n                    <div className=\"card shadow-sm border-0 rounded-4 p-4 sticky-top\" style={{top: '20px'}}>\n                        <h5 className=\"fw-bold mb-4\">Tóm tắt đơn hàng</h5>\n                        <div className=\"mb-3\" style={{maxHeight: '250px', overflowY: 'auto'}}>\n                            {cart.products.map((item, idx) => (\n                                <div key={idx} className=\"d-flex justify-content-between mb-2\">\n                                    <span className=\"small text-muted text-truncate\" style={{maxWidth: '70%'}}>{item.productName} (x{item.quantity})</span>\n                                    <span className=\"fw-bold small\">{((item.specialPrice || item.price) * item.quantity).toLocaleString()}₫</span>\n                                </div>\n                            ))}\n                        </div>\n                        <hr />\n                        <div className=\"d-flex justify-content-between h4 fw-bold\">\n                            <span>Tổng tiền:</span>\n                            <span className=\"text-danger\">{totalAmount.toLocaleString()}₫</span>\n                        </div>\n                        <button className=\"btn btn-warning w-100 py-3 mt-4 fw-bold rounded-pill text-uppercase shadow-sm\" onClick={handlePlaceOrder} disabled={processing}>\n                            {processing ? 'Đang xử lý...' : 'Xác nhận đặt hàng'}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Checkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}