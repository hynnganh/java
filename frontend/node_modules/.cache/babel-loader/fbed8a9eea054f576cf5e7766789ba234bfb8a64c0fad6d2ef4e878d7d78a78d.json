{"ast":null,"code":"// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n\n//   // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo ID\n//  // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo ID - THÃŠM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`ğŸ“¡ Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"ğŸ“¨ API Response:\", response);\n//     console.log(\"ğŸ“Š Response data:\", response.data);\n\n//     // âœ… Kiá»ƒm tra cáº¥u trÃºc dá»¯ liá»‡u tráº£ vá»\n//     if (response.data) {\n//       console.log(\"ğŸ” Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n\n//     return response.data;\n//   } catch (error) {\n//     console.error(\"âŒ Lá»—i khi láº¥y thÃ´ng tin user:\", error);\n\n//     // âœ… Log chi tiáº¿t lá»—i\n//     if (error.response) {\n//       console.error(\"ğŸš¨ Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n\n//     throw error;\n//   }\n// },\n\n//   // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi láº¥y thÃ´ng tin user báº±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ğŸŸ¢ Public: Cáº­p nháº­t thÃ´ng tin user\n//   async updateUser(userId, userData) {\n//     try {\n//       const { data } = await api.put(`/public/users/${userId}`, userData);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi cáº­p nháº­t user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // ğŸ” Admin: Láº¥y táº¥t cáº£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi láº¥y danh sÃ¡ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ğŸ” Admin: XÃ³a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi xÃ³a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // ğŸŸ¢ Kiá»ƒm tra xem user cÃ³ tá»“n táº¡i khÃ´ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // ğŸŸ¢ Láº¥y thÃ´ng tin user profile Ä‘áº§y Ä‘á»§ - Sá»¬A Láº I Äá»‚ NHáº¤T QUÃN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`ğŸ” Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n\n//     console.log(\"ğŸ“Š Raw API response:\", userData);\n\n//     // âœ… Xá»­ lÃ½ dá»¯ liá»‡u - Æ¯U TIÃŠN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Giá»¯ nguyÃªn toÃ n bá»™ dá»¯ liá»‡u gá»‘c\n//       ...userData,\n\n//       // âœ… NHáº¤T QUÃN: Æ¯u tiÃªn snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n\n//       // âœ… QUAN TRá»ŒNG: Æ¯u tiÃªn first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n\n//       // âœ… CÃ¡c field khÃ¡c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n\n//       // âœ… Full name Ä‘á»ƒ tiá»‡n sá»­ dá»¥ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n\n//     console.log(\"âœ… Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"âŒ Lá»—i khi láº¥y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // ğŸŸ¢ Cáº­p nháº­t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data Ä‘á»ƒ gá»­i lÃªn server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi cáº­p nháº­t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;","map":{"version":3,"names":[],"sources":["D:/JVA/frontend/src/services/userService.js"],"sourcesContent":["// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n  \n//   // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo ID\n//  // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo ID - THÃŠM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`ğŸ“¡ Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"ğŸ“¨ API Response:\", response);\n//     console.log(\"ğŸ“Š Response data:\", response.data);\n    \n//     // âœ… Kiá»ƒm tra cáº¥u trÃºc dá»¯ liá»‡u tráº£ vá»\n//     if (response.data) {\n//       console.log(\"ğŸ” Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n    \n//     return response.data;\n//   } catch (error) {\n//     console.error(\"âŒ Lá»—i khi láº¥y thÃ´ng tin user:\", error);\n    \n//     // âœ… Log chi tiáº¿t lá»—i\n//     if (error.response) {\n//       console.error(\"ğŸš¨ Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n    \n//     throw error;\n//   }\n// },\n\n//   // ğŸŸ¢ Public: Láº¥y thÃ´ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi láº¥y thÃ´ng tin user báº±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ğŸŸ¢ Public: Cáº­p nháº­t thÃ´ng tin user\n//   async updateUser(userId, userData) {\n//     try {\n//       const { data } = await api.put(`/public/users/${userId}`, userData);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi cáº­p nháº­t user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // ğŸ” Admin: Láº¥y táº¥t cáº£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi láº¥y danh sÃ¡ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ğŸ” Admin: XÃ³a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi xÃ³a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // ğŸŸ¢ Kiá»ƒm tra xem user cÃ³ tá»“n táº¡i khÃ´ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // ğŸŸ¢ Láº¥y thÃ´ng tin user profile Ä‘áº§y Ä‘á»§ - Sá»¬A Láº I Äá»‚ NHáº¤T QUÃN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`ğŸ” Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n    \n//     console.log(\"ğŸ“Š Raw API response:\", userData);\n    \n//     // âœ… Xá»­ lÃ½ dá»¯ liá»‡u - Æ¯U TIÃŠN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Giá»¯ nguyÃªn toÃ n bá»™ dá»¯ liá»‡u gá»‘c\n//       ...userData,\n      \n//       // âœ… NHáº¤T QUÃN: Æ¯u tiÃªn snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n      \n//       // âœ… QUAN TRá»ŒNG: Æ¯u tiÃªn first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n      \n//       // âœ… CÃ¡c field khÃ¡c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n      \n//       // âœ… Full name Ä‘á»ƒ tiá»‡n sá»­ dá»¥ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n    \n//     console.log(\"âœ… Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"âŒ Lá»—i khi láº¥y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // ğŸŸ¢ Cáº­p nháº­t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data Ä‘á»ƒ gá»­i lÃªn server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"âŒ Lá»—i khi cáº­p nháº­t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;"],"mappings":"AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}