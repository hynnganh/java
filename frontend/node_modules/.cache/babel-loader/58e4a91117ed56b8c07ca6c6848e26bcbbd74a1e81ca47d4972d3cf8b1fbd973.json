{"ast":null,"code":"// services/userService.js\nimport api from \"./api\";\nconst userService = {\n  // ==================== PUBLIC ENDPOINTS ====================\n\n  // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n  async getUserById(userId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: L·∫•y th√¥ng tin user theo email\n  async getUserByEmail(email) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/users/email/${email}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user\n  async updateUser(userId, userData) {\n    try {\n      const {\n        data\n      } = await api.put(`/public/users/${userId}`, userData);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n      throw error;\n    }\n  },\n  // ==================== ADMIN ENDPOINTS ====================\n\n  // üîê Admin: L·∫•y t·∫•t c·∫£ users\n  async getAllUsers() {\n    try {\n      const {\n        data\n      } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n      throw error;\n    }\n  },\n  // üîê Admin: X√≥a user\n  async deleteUser(userId) {\n    try {\n      const {\n        data\n      } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n      throw error;\n    }\n  },\n  // ==================== UTILITY METHODS ====================\n\n  // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n  async checkUserExists(userId) {\n    try {\n      await this.getUserById(userId);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß\n  async getUserProfile(userId) {\n    try {\n      const userData = await this.getUserById(userId);\n      return {\n        userId: userData.user_id || userData.userId,\n        email: userData.email,\n        firstName: userData.first_name,\n        lastName: userData.last_name,\n        mobileNumber: userData.mobile_number,\n        fullName: `${userData.first_name || ''} ${userData.last_name || ''}`.trim(),\n        ...userData\n      };\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n      throw error;\n    }\n  },\n  // üü¢ C·∫≠p nh·∫≠t profile user\n  async updateUserProfile(userId, profileData) {\n    try {\n      // Format data ƒë·ªÉ g·ª≠i l√™n server\n      const formattedData = {\n        first_name: profileData.firstName || profileData.first_name,\n        last_name: profileData.lastName || profileData.last_name,\n        mobile_number: profileData.mobileNumber || profileData.mobile_number,\n        email: profileData.email\n      };\n      const result = await this.updateUser(userId, formattedData);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n      throw error;\n    }\n  }\n};\nexport default userService;","map":{"version":3,"names":["api","userService","getUserById","userId","data","get","error","console","getUserByEmail","email","updateUser","userData","put","getAllUsers","deleteUser","delete","checkUserExists","getUserProfile","user_id","firstName","first_name","lastName","last_name","mobileNumber","mobile_number","fullName","trim","updateUserProfile","profileData","formattedData","result"],"sources":["D:/JVA/frontend/src/services/userService.js"],"sourcesContent":["// services/userService.js\nimport api from \"./api\";\n\nconst userService = {\n  // ==================== PUBLIC ENDPOINTS ====================\n  \n  // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n  async getUserById(userId) {\n    try {\n      const { data } = await api.get(`/public/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: L·∫•y th√¥ng tin user theo email\n  async getUserByEmail(email) {\n    try {\n      const { data } = await api.get(`/public/users/email/${email}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user\n  async updateUser(userId, userData) {\n    try {\n      const { data } = await api.put(`/public/users/${userId}`, userData);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n      throw error;\n    }\n  },\n\n  // ==================== ADMIN ENDPOINTS ====================\n\n  // üîê Admin: L·∫•y t·∫•t c·∫£ users\n  async getAllUsers() {\n    try {\n      const { data } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n      throw error;\n    }\n  },\n\n  // üîê Admin: X√≥a user\n  async deleteUser(userId) {\n    try {\n      const { data } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n      throw error;\n    }\n  },\n\n  // ==================== UTILITY METHODS ====================\n\n  // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n  async checkUserExists(userId) {\n    try {\n      await this.getUserById(userId);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n\n  // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß\n  async getUserProfile(userId) {\n    try {\n      const userData = await this.getUserById(userId);\n      return {\n        userId: userData.user_id || userData.userId,\n        email: userData.email,\n        firstName: userData.first_name,\n        lastName: userData.last_name,\n        mobileNumber: userData.mobile_number,\n        fullName: `${userData.first_name || ''} ${userData.last_name || ''}`.trim(),\n        ...userData\n      };\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ C·∫≠p nh·∫≠t profile user\n  async updateUserProfile(userId, profileData) {\n    try {\n      // Format data ƒë·ªÉ g·ª≠i l√™n server\n      const formattedData = {\n        first_name: profileData.firstName || profileData.first_name,\n        last_name: profileData.lastName || profileData.last_name,\n        mobile_number: profileData.mobileNumber || profileData.mobile_number,\n        email: profileData.email\n      };\n\n      const result = await this.updateUser(userId, formattedData);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n      throw error;\n    }\n  }\n};\n\nexport default userService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}