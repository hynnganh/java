{"ast":null,"code":"// src/services/productService.js\nimport api from \"./api\";\nconst productService = {\n  // üü¢ Public: L·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m\n  getAllProducts: async () => {\n    try {\n      const response = await api.get('/products');\n      console.log(\"üîç API Response structure:\", response);\n      console.log(\"üîç API Response data:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n  // Ho·∫∑c n·∫øu b·∫°n d√πng Spring Pageable\n  getAllProductsWithPagination: async (page = 0, size = 20) => {\n    try {\n      const response = await api.get(`/products?page=${page}&size=${size}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n  async getProductById(productId) {\n    try {\n      // Ki·ªÉm tra productId - bao g·ªìm c·∫£ chu·ªói 'undefined'\n      if (!productId || productId === 'undefined' || productId === 'null') {\n        throw new Error('Product ID kh√¥ng h·ª£p l·ªá: ' + productId);\n      }\n      console.log(`üì° Calling API: /public/products/${productId}`);\n      const {\n        data\n      } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m:\", error);\n      console.error(\"üîç Chi ti·∫øt l·ªói:\", {\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data,\n        productId\n      });\n      throw error;\n    }\n  },\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo danh m·ª•c\n  async getProductsByCategory(categoryId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m theo danh m·ª•c:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: T√¨m ki·∫øm s·∫£n ph·∫©m theo t·ª´ kh√≥a\n  async searchProductsByKeyword(keyword) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/keyword/${keyword}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi t√¨m ki·∫øm s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: L·∫•y ƒë∆∞·ªùng d·∫´n ·∫£nh s·∫£n ph·∫©m\n  getProductImage(fileName) {\n    if (!fileName) return \"https://cdn-icons-png.flaticon.com/512/679/679922.png\";\n    return `/public/products/image/${fileName}`;\n  },\n  // üîê Admin: T·∫°o s·∫£n ph·∫©m m·ªõi\n  async createProduct(categoryId, data) {\n    try {\n      const {\n        data: result\n      } = await api.post(`/admin/categories/${categoryId}/products`, data);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi t·∫°o s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n  // üîê Admin: C·∫≠p nh·∫≠t s·∫£n ph·∫©m\n  async updateProduct(productId, data) {\n    try {\n      const {\n        data: result\n      } = await api.put(`/admin/products/${productId}`, data);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n  // üîê Admin: X√≥a s·∫£n ph·∫©m\n  async deleteProduct(productId) {\n    try {\n      const {\n        data: result\n      } = await api.delete(`/admin/products/${productId}`);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n  // üîê Admin: C·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m\n  async updateProductImage(productId, imageFile) {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", imageFile);\n      const {\n        data: result\n      } = await api.put(`/admin/products/${productId}/image`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProducts","response","get","console","log","data","error","getAllProductsWithPagination","page","size","getProductById","productId","Error","_error$response","_error$response2","status","getProductsByCategory","categoryId","searchProductsByKeyword","keyword","getProductImage","fileName","createProduct","result","post","updateProduct","put","deleteProduct","delete","updateProductImage","imageFile","formData","FormData","append","headers"],"sources":["D:/JVA/frontend/src/services/productService.js"],"sourcesContent":["// src/services/productService.js\nimport api from \"./api\";\n\nconst productService = {\n  // üü¢ Public: L·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m\n  getAllProducts: async () => {\n    try {\n      const response = await api.get('/products');\n      console.log(\"üîç API Response structure:\", response);\n      console.log(\"üîç API Response data:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n  \n  // Ho·∫∑c n·∫øu b·∫°n d√πng Spring Pageable\n  getAllProductsWithPagination: async (page = 0, size = 20) => {\n    try {\n      const response = await api.get(`/products?page=${page}&size=${size}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n// üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\nasync getProductById(productId) {\n  try {\n    // Ki·ªÉm tra productId - bao g·ªìm c·∫£ chu·ªói 'undefined'\n    if (!productId || productId === 'undefined' || productId === 'null') {\n      throw new Error('Product ID kh√¥ng h·ª£p l·ªá: ' + productId);\n    }\n    \n    console.log(`üì° Calling API: /public/products/${productId}`);\n    const { data } = await api.get(`/public/products/${productId}`);\n    return data;\n  } catch (error) {\n    console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m:\", error);\n    console.error(\"üîç Chi ti·∫øt l·ªói:\", {\n      status: error.response?.status,\n      data: error.response?.data,\n      productId\n    });\n    throw error;\n  }\n},\n\n  // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo danh m·ª•c\n  async getProductsByCategory(categoryId) {\n    try {\n      const { data } = await api.get(`/public/categories/${categoryId}/products`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m theo danh m·ª•c:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: T√¨m ki·∫øm s·∫£n ph·∫©m theo t·ª´ kh√≥a\n  async searchProductsByKeyword(keyword) {\n    try {\n      const { data } = await api.get(`/public/products/keyword/${keyword}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi t√¨m ki·∫øm s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: L·∫•y ƒë∆∞·ªùng d·∫´n ·∫£nh s·∫£n ph·∫©m\n  getProductImage(fileName) {\n    if (!fileName) return \"https://cdn-icons-png.flaticon.com/512/679/679922.png\";\n    return `/public/products/image/${fileName}`;\n  },\n\n  // üîê Admin: T·∫°o s·∫£n ph·∫©m m·ªõi\n  async createProduct(categoryId, data) {\n    try {\n      const { data: result } = await api.post(`/admin/categories/${categoryId}/products`, data);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi t·∫°o s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n\n  // üîê Admin: C·∫≠p nh·∫≠t s·∫£n ph·∫©m\n  async updateProduct(productId, data) {\n    try {\n      const { data: result } = await api.put(`/admin/products/${productId}`, data);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n\n  // üîê Admin: X√≥a s·∫£n ph·∫©m\n  async deleteProduct(productId) {\n    try {\n      const { data: result } = await api.delete(`/admin/products/${productId}`);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n\n  // üîê Admin: C·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m\n  async updateProductImage(productId, imageFile) {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", imageFile);\n\n      const { data: result } = await api.put(\n        `/admin/products/${productId}/image`,\n        formData,\n        { headers: { \"Content-Type\": \"multipart/form-data\" } }\n      );\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m:\", error);\n      throw error;\n    }\n  },\n};\n\nexport default productService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}