{"ast":null,"code":"// import api from \"./api\";\n\n// const categoryService = {\n//   // L·∫•y danh s√°ch (Public): GET /api/public/categories\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   // T·∫°o m·ªõi (Admin): POST /api/admin/categories\n//   async createCategory(categoryData) {\n//     const token = localStorage.getItem(\"token\"); // L·∫•y token ƒë·ªÉ check quy·ªÅn ADMIN\n//     return await api.post(\"/admin/categories\", categoryData, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   },\n\n//   // C·∫≠p nh·∫≠t (Admin): PUT /api/admin/categories/{id}\n//   async updateCategory(categoryId, categoryData) {\n//     const token = localStorage.getItem(\"token\");\n//     return await api.put(`/admin/categories/${categoryId}`, categoryData, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   },\n\n//   // X√≥a (Admin): DELETE /api/admin/categories/{id}\n//   async deleteCategory(categoryId) {\n//     const token = localStorage.getItem(\"token\");\n//     return await api.delete(`/admin/categories/${categoryId}`, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\nconst categoryService = {\n  // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c (Gi·ªØ nguy√™n c·ªßa m√†y)\n  async getAllCategories() {\n    try {\n      const {\n        data\n      } = await api.get(\"/public/categories\");\n      if (Array.isArray(data)) return data;\n      if (data.content && Array.isArray(data.content)) return data.content;\n      console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n      return [];\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n      return [];\n    }\n  },\n  // üîê H√†m b·ªï tr·ª£ l·∫•y Token Admin\n  getAuthHeader() {\n    const token = localStorage.getItem(\"token\");\n    return {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n  },\n  // üî¥ Admin: T·∫°o danh m·ª•c m·ªõi\n  async createCategory(categoryDTO) {\n    try {\n      console.log(\"üöÄ Admin ƒëang t·∫°o danh m·ª•c:\", categoryDTO);\n      const {\n        data\n      } = await api.post(\"/admin/categories\", categoryDTO, this.getAuthHeader());\n\n      // Th√¥ng th∆∞·ªùng tr·∫£ v·ªÅ object category v·ª´a t·∫°o\n      if (data) return data;\n      throw new Error(\"Kh√¥ng nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu ph·∫£n h·ªìi\");\n    } catch (error) {\n      var _error$response;\n      console.error(\"‚ùå L·ªói Admin t·∫°o danh m·ª•c:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      throw error; // QuƒÉng l·ªói ƒë·ªÉ Component x·ª≠ l√Ω Swal.fire\n    }\n  },\n  // üü† Admin: C·∫≠p nh·∫≠t danh m·ª•c\n  async updateCategory(categoryId, categoryDTO) {\n    try {\n      console.log(`üîÑ Admin ƒëang s·ª≠a danh m·ª•c ID ${categoryId}:`, categoryDTO);\n      const {\n        data\n      } = await api.put(`/admin/categories/${categoryId}`, categoryDTO, this.getAuthHeader());\n      if (data) return data;\n      throw new Error(\"C·∫≠p nh·∫≠t th·∫•t b·∫°i\");\n    } catch (error) {\n      var _error$response2;\n      console.error(\"‚ùå L·ªói Admin c·∫≠p nh·∫≠t danh m·ª•c:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n      throw error;\n    }\n  },\n  // üü° Admin: X√≥a danh m·ª•c\n  async deleteCategory(categoryId) {\n    try {\n      console.log(`üóëÔ∏è Admin ƒëang x√≥a danh m·ª•c ID: ${categoryId}`);\n      const {\n        data\n      } = await api.delete(`/admin/categories/${categoryId}`, this.getAuthHeader());\n\n      // Th∆∞·ªùng tr·∫£ v·ªÅ String th√¥ng b√°o ho·∫∑c object\n      return data;\n    } catch (error) {\n      var _error$response3;\n      console.error(\"‚ùå L·ªói Admin x√≥a danh m·ª•c:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n      throw error;\n    }\n  }\n};\nexport default categoryService;","map":{"version":3,"names":["api","categoryService","getAllCategories","data","get","Array","isArray","content","console","warn","error","getAuthHeader","token","localStorage","getItem","headers","Authorization","createCategory","categoryDTO","log","post","Error","_error$response","response","message","updateCategory","categoryId","put","_error$response2","deleteCategory","delete","_error$response3"],"sources":["E:/Java/DoAn/frontend/src/services/categoryService.js"],"sourcesContent":["// import api from \"./api\";\n\n// const categoryService = {\n//   // L·∫•y danh s√°ch (Public): GET /api/public/categories\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   // T·∫°o m·ªõi (Admin): POST /api/admin/categories\n//   async createCategory(categoryData) {\n//     const token = localStorage.getItem(\"token\"); // L·∫•y token ƒë·ªÉ check quy·ªÅn ADMIN\n//     return await api.post(\"/admin/categories\", categoryData, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   },\n\n//   // C·∫≠p nh·∫≠t (Admin): PUT /api/admin/categories/{id}\n//   async updateCategory(categoryId, categoryData) {\n//     const token = localStorage.getItem(\"token\");\n//     return await api.put(`/admin/categories/${categoryId}`, categoryData, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   },\n\n//   // X√≥a (Admin): DELETE /api/admin/categories/{id}\n//   async deleteCategory(categoryId) {\n//     const token = localStorage.getItem(\"token\");\n//     return await api.delete(`/admin/categories/${categoryId}`, {\n//       headers: { Authorization: `Bearer ${token}` }\n//     });\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\n\nconst categoryService = {\n  // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c (Gi·ªØ nguy√™n c·ªßa m√†y)\n  async getAllCategories() {\n    try {\n      const { data } = await api.get(\"/public/categories\");\n      if (Array.isArray(data)) return data;\n      if (data.content && Array.isArray(data.content)) return data.content;\n      console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n      return [];\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n      return [];\n    }\n  },\n\n  // üîê H√†m b·ªï tr·ª£ l·∫•y Token Admin\n  getAuthHeader() {\n    const token = localStorage.getItem(\"token\");\n    return { headers: { Authorization: `Bearer ${token}` } };\n  },\n\n  // üî¥ Admin: T·∫°o danh m·ª•c m·ªõi\n  async createCategory(categoryDTO) {\n    try {\n      console.log(\"üöÄ Admin ƒëang t·∫°o danh m·ª•c:\", categoryDTO);\n      const { data } = await api.post(\"/admin/categories\", categoryDTO, this.getAuthHeader());\n      \n      // Th√¥ng th∆∞·ªùng tr·∫£ v·ªÅ object category v·ª´a t·∫°o\n      if (data) return data;\n      \n      throw new Error(\"Kh√¥ng nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu ph·∫£n h·ªìi\");\n    } catch (error) {\n      console.error(\"‚ùå L·ªói Admin t·∫°o danh m·ª•c:\", error.response?.data || error.message);\n      throw error; // QuƒÉng l·ªói ƒë·ªÉ Component x·ª≠ l√Ω Swal.fire\n    }\n  },\n\n  // üü† Admin: C·∫≠p nh·∫≠t danh m·ª•c\n  async updateCategory(categoryId, categoryDTO) {\n    try {\n      console.log(`üîÑ Admin ƒëang s·ª≠a danh m·ª•c ID ${categoryId}:`, categoryDTO);\n      const { data } = await api.put(`/admin/categories/${categoryId}`, categoryDTO, this.getAuthHeader());\n      \n      if (data) return data;\n      \n      throw new Error(\"C·∫≠p nh·∫≠t th·∫•t b·∫°i\");\n    } catch (error) {\n      console.error(\"‚ùå L·ªói Admin c·∫≠p nh·∫≠t danh m·ª•c:\", error.response?.data || error.message);\n      throw error;\n    }\n  },\n\n  // üü° Admin: X√≥a danh m·ª•c\n  async deleteCategory(categoryId) {\n    try {\n      console.log(`üóëÔ∏è Admin ƒëang x√≥a danh m·ª•c ID: ${categoryId}`);\n      const { data } = await api.delete(`/admin/categories/${categoryId}`, this.getAuthHeader());\n      \n      // Th∆∞·ªùng tr·∫£ v·ªÅ String th√¥ng b√°o ho·∫∑c object\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói Admin x√≥a danh m·ª•c:\", error.response?.data || error.message);\n      throw error;\n    }\n  }\n};\n\nexport default categoryService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}