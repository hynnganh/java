{"ast":null,"code":"// // src/services/categoryService.js\n// import api from \"./api\";\n\n// const categoryService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   async addProductToCategory(categoryId, productDTO) {\n//     return await api.post(`/admin/categories/${categoryId}/product`, productDTO);\n//   },\n\n//   async removeProductFromCategory(categoryId, productId) {\n//     return await api.delete(`/admin/categories/${categoryId}/product/${productId}`);\n//   },\n\n//   async createCategory(categoryDTO) {\n//     return await api.post(\"/admin/categories\", categoryDTO);\n//   },\n\n//   async updateCategory(categoryId, categoryDTO) {\n//     return await api.put(`/admin/categories/${categoryId}`, categoryDTO);\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\nconst categoryService = {\n  // L·∫•y danh s√°ch (Public): GET /api/public/categories\n  async getAllCategories(pageNumber = 0, pageSize = 10) {\n    try {\n      const {\n        data\n      } = await api.get(\"/public/categories\", {\n        params: {\n          pageNumber,\n          pageSize,\n          sortBy: \"categoryId\",\n          sortOrder: \"asc\"\n        }\n      });\n      return data; // Tr·∫£ v·ªÅ CategoryResponse { content, totalPages, ... }\n    } catch (error) {\n      console.error(\"L·ªói fetch danh m·ª•c:\", error);\n      return {\n        content: [],\n        totalPages: 0\n      };\n    }\n  },\n  // T·∫°o m·ªõi (Admin): POST /api/admin/categories\n  async createCategory(categoryData) {\n    const token = localStorage.getItem(\"token\"); // L·∫•y token ƒë·ªÉ check quy·ªÅn ADMIN\n    return await api.post(\"/admin/categories\", categoryData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  // C·∫≠p nh·∫≠t (Admin): PUT /api/admin/categories/{id}\n  async updateCategory(categoryId, categoryData) {\n    const token = localStorage.getItem(\"token\");\n    return await api.put(`/admin/categories/${categoryId}`, categoryData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  // X√≥a (Admin): DELETE /api/admin/categories/{id}\n  async deleteCategory(categoryId) {\n    const token = localStorage.getItem(\"token\");\n    return await api.delete(`/admin/categories/${categoryId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n};\nexport default categoryService;","map":{"version":3,"names":["api","categoryService","getAllCategories","pageNumber","pageSize","data","get","params","sortBy","sortOrder","error","console","content","totalPages","createCategory","categoryData","token","localStorage","getItem","post","headers","Authorization","updateCategory","categoryId","put","deleteCategory","delete"],"sources":["E:/Java/DoAn/frontend/src/services/categoryService.js"],"sourcesContent":["// // src/services/categoryService.js\n// import api from \"./api\";\n\n// const categoryService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ danh m·ª•c\n//   async getAllCategories() {\n//     try {\n//       const { data } = await api.get(\"/public/categories\");\n\n//       // ‚úÖ Ki·ªÉm tra n·∫øu API c√≥ tr·∫£ v·ªÅ content\n//       if (Array.isArray(data)) return data;\n//       if (data.content && Array.isArray(data.content)) return data.content;\n\n//       console.warn(\"‚ö†Ô∏è D·ªØ li·ªáu danh m·ª•c kh√¥ng ph·∫£i m·∫£ng:\", data);\n//       return [];\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh m·ª•c:\", error);\n//       return [];\n//     }\n//   },\n\n//   async addProductToCategory(categoryId, productDTO) {\n//     return await api.post(`/admin/categories/${categoryId}/product`, productDTO);\n//   },\n\n//   async removeProductFromCategory(categoryId, productId) {\n//     return await api.delete(`/admin/categories/${categoryId}/product/${productId}`);\n//   },\n   \n//   async createCategory(categoryDTO) {\n//     return await api.post(\"/admin/categories\", categoryDTO);\n//   },\n\n//   async updateCategory(categoryId, categoryDTO) {\n//     return await api.put(`/admin/categories/${categoryId}`, categoryDTO);\n//   }\n// };\n\n// export default categoryService;\n\nimport api from \"./api\";\n\nconst categoryService = {\n  // L·∫•y danh s√°ch (Public): GET /api/public/categories\n  async getAllCategories(pageNumber = 0, pageSize = 10) {\n    try {\n      const { data } = await api.get(\"/public/categories\", {\n        params: { pageNumber, pageSize, sortBy: \"categoryId\", sortOrder: \"asc\" }\n      });\n      return data; // Tr·∫£ v·ªÅ CategoryResponse { content, totalPages, ... }\n    } catch (error) {\n      console.error(\"L·ªói fetch danh m·ª•c:\", error);\n      return { content: [], totalPages: 0 };\n    }\n  },\n\n  // T·∫°o m·ªõi (Admin): POST /api/admin/categories\n  async createCategory(categoryData) {\n    const token = localStorage.getItem(\"token\"); // L·∫•y token ƒë·ªÉ check quy·ªÅn ADMIN\n    return await api.post(\"/admin/categories\", categoryData, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n  },\n\n  // C·∫≠p nh·∫≠t (Admin): PUT /api/admin/categories/{id}\n  async updateCategory(categoryId, categoryData) {\n    const token = localStorage.getItem(\"token\");\n    return await api.put(`/admin/categories/${categoryId}`, categoryData, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n  },\n\n  // X√≥a (Admin): DELETE /api/admin/categories/{id}\n  async deleteCategory(categoryId) {\n    const token = localStorage.getItem(\"token\");\n    return await api.delete(`/admin/categories/${categoryId}`, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n  }\n};\n\nexport default categoryService;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,eAAe,GAAG;EACtB;EACA,MAAMC,gBAAgBA,CAACC,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,EAAE,EAAE;IACpD,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAE;QACnDC,MAAM,EAAE;UAAEJ,UAAU;UAAEC,QAAQ;UAAEI,MAAM,EAAE,YAAY;UAAEC,SAAS,EAAE;QAAM;MACzE,CAAC,CAAC;MACF,OAAOJ,IAAI,CAAC,CAAC;IACf,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,OAAO;QAAEE,OAAO,EAAE,EAAE;QAAEC,UAAU,EAAE;MAAE,CAAC;IACvC;EACF,CAAC;EAED;EACA,MAAMC,cAAcA,CAACC,YAAY,EAAE;IACjC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7C,OAAO,MAAMlB,GAAG,CAACmB,IAAI,CAAC,mBAAmB,EAAEJ,YAAY,EAAE;MACvDK,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC;EACJ,CAAC;EAED;EACA,MAAMM,cAAcA,CAACC,UAAU,EAAER,YAAY,EAAE;IAC7C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,OAAO,MAAMlB,GAAG,CAACwB,GAAG,CAAC,qBAAqBD,UAAU,EAAE,EAAER,YAAY,EAAE;MACpEK,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC;EACJ,CAAC;EAED;EACA,MAAMS,cAAcA,CAACF,UAAU,EAAE;IAC/B,MAAMP,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,OAAO,MAAMlB,GAAG,CAAC0B,MAAM,CAAC,qBAAqBH,UAAU,EAAE,EAAE;MACzDH,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAef,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}