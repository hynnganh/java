{"ast":null,"code":"// src/services/productService.js\nimport api from \"./api\";\nconst productService = {\n  /**\n   * ✅ Lấy tất cả sản phẩm (có hỗ trợ phân trang)\n   * @param {number} page - Trang hiện tại (zero-based)\n   * @param {number} limit - Số sản phẩm mỗi trang\n   */\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products?pageNumber=${page}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy sản phẩm theo danh mục (có phân trang)\n   */\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products?pageNumber=${page}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Tìm kiếm sản phẩm theo từ khóa (có phân trang)\n   */\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products?search=${encodeURIComponent(keyword)}&pageNumber=${page}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy sản phẩm theo danh mục và từ khóa (có phân trang)\n   */\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products?search=${encodeURIComponent(keyword)}&pageNumber=${page}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy chi tiết sản phẩm theo ID\n   */\n  async getProductById(productId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy top sản phẩm bán chạy nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getTopSellingProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/top-selling`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm bán chạy:', error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy top sản phẩm xem nhiều nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getMostViewedProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/most-viewed`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm xem nhiều:', error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy sản phẩm mới nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getNewestProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/newest`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm mới nhất:', error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy sản phẩm có khuyến mãi\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getDiscountedProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/discounted`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm khuyến mãi:', error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Tăng lượt xem sản phẩm\n   * @param {number} productId - ID sản phẩm\n   */\n  async incrementProductViews(productId) {\n    try {\n      const {\n        data\n      } = await api.post(`/public/products/${productId}/view`);\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi tăng lượt xem sản phẩm:', error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Tăng số lượng bán sản phẩm\n   * @param {number} productId - ID sản phẩm\n   * @param {number} quantity - Số lượng bán\n   */\n  async incrementProductSold(productId, quantity) {\n    try {\n      const {\n        data\n      } = await api.post(`/admin/products/${productId}/sold`, null, {\n        params: {\n          quantity\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi tăng số lượng bán:', error);\n      throw error;\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProducts","page","limit","data","get","error","console","getProductsByCategory","categoryId","searchProducts","keyword","encodeURIComponent","getProductsByCategoryAndSearch","getProductById","productId","getTopSellingProducts","pageNumber","pageSize","params","getMostViewedProducts","getNewestProducts","getDiscountedProducts","incrementProductViews","post","incrementProductSold","quantity"],"sources":["E:/Java/DoAn/frontend/src/services/productService.js"],"sourcesContent":["// src/services/productService.js\nimport api from \"./api\";\n\nconst productService = {\n  /**\n   * ✅ Lấy tất cả sản phẩm (có hỗ trợ phân trang)\n   * @param {number} page - Trang hiện tại (zero-based)\n   * @param {number} limit - Số sản phẩm mỗi trang\n   */\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products?pageNumber=${page}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy sản phẩm theo danh mục (có phân trang)\n   */\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(\n        `/public/categories/${categoryId}/products?pageNumber=${page}&pageSize=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Tìm kiếm sản phẩm theo từ khóa (có phân trang)\n   */\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(\n        `/public/products?search=${encodeURIComponent(keyword)}&pageNumber=${page}&pageSize=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy sản phẩm theo danh mục và từ khóa (có phân trang)\n   */\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(\n        `/public/categories/${categoryId}/products?search=${encodeURIComponent(keyword)}&pageNumber=${page}&pageSize=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy chi tiết sản phẩm theo ID\n   */\n  async getProductById(productId) {\n    try {\n      const { data } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy top sản phẩm bán chạy nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getTopSellingProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const { data } = await api.get(`/public/products/top-selling`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm bán chạy:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy top sản phẩm xem nhiều nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getMostViewedProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const { data } = await api.get(`/public/products/most-viewed`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm xem nhiều:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy sản phẩm mới nhất\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getNewestProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const { data } = await api.get(`/public/products/newest`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm mới nhất:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy sản phẩm có khuyến mãi\n   * @param {number} pageNumber - Trang hiện tại (zero-based)\n   * @param {number} pageSize - Số sản phẩm mỗi trang\n   */\n  async getDiscountedProducts(pageNumber = 0, pageSize = 8) {\n    try {\n      const { data } = await api.get(`/public/products/discounted`, {\n        params: {\n          pageNumber,\n          pageSize\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy sản phẩm khuyến mãi:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Tăng lượt xem sản phẩm\n   * @param {number} productId - ID sản phẩm\n   */\n  async incrementProductViews(productId) {\n    try {\n      const { data } = await api.post(`/public/products/${productId}/view`);\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi tăng lượt xem sản phẩm:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Tăng số lượng bán sản phẩm\n   * @param {number} productId - ID sản phẩm\n   * @param {number} quantity - Số lượng bán\n   */\n  async incrementProductSold(productId, quantity) {\n    try {\n      const { data } = await api.post(`/admin/products/${productId}/sold`, null, {\n        params: { quantity }\n      });\n      return data;\n    } catch (error) {\n      console.error('❌ Lỗi khi tăng số lượng bán:', error);\n      throw error;\n    }\n  }\n};\n\nexport default productService;"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,cAAc,GAAG;EACrB;AACF;AACA;AACA;AACA;EACE,MAAMC,cAAcA,CAACC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IACxC,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,+BAA+BH,IAAI,aAAaC,KAAK,EAAE,CAAC;MACvF,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;EACE,MAAME,qBAAqBA,CAACC,UAAU,EAAEP,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IAC3D,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAC5B,sBAAsBI,UAAU,wBAAwBP,IAAI,aAAaC,KAAK,EAChF,CAAC;MACD,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC7D,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;EACE,MAAMI,cAAcA,CAACC,OAAO,EAAET,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IACjD,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAC5B,2BAA2BO,kBAAkB,CAACD,OAAO,CAAC,eAAeT,IAAI,aAAaC,KAAK,EAC7F,CAAC;MACD,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;EACE,MAAMO,8BAA8BA,CAACJ,UAAU,EAAEE,OAAO,EAAET,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IAC7E,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAC5B,sBAAsBI,UAAU,oBAAoBG,kBAAkB,CAACD,OAAO,CAAC,eAAeT,IAAI,aAAaC,KAAK,EACtH,CAAC;MACD,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kDAAkD,EAAEA,KAAK,CAAC;MACxE,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;EACE,MAAMQ,cAAcA,CAACC,SAAS,EAAE;IAC9B,IAAI;MACF,MAAM;QAAEX;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,oBAAoBU,SAAS,EAAE,CAAC;MAC/D,OAAOX,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;EACE,MAAMU,qBAAqBA,CAACC,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,CAAC,EAAE;IACxD,IAAI;MACF,MAAM;QAAEd;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,8BAA8B,EAAE;QAC7Dc,MAAM,EAAE;UACNF,UAAU;UACVC;QACF;MACF,CAAC,CAAC;MACF,OAAOd,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;EACE,MAAMc,qBAAqBA,CAACH,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,CAAC,EAAE;IACxD,IAAI;MACF,MAAM;QAAEd;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,8BAA8B,EAAE;QAC7Dc,MAAM,EAAE;UACNF,UAAU;UACVC;QACF;MACF,CAAC,CAAC;MACF,OAAOd,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;EACE,MAAMe,iBAAiBA,CAACJ,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,CAAC,EAAE;IACpD,IAAI;MACF,MAAM;QAAEd;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,yBAAyB,EAAE;QACxDc,MAAM,EAAE;UACNF,UAAU;UACVC;QACF;MACF,CAAC,CAAC;MACF,OAAOd,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;EACE,MAAMgB,qBAAqBA,CAACL,UAAU,GAAG,CAAC,EAAEC,QAAQ,GAAG,CAAC,EAAE;IACxD,IAAI;MACF,MAAM;QAAEd;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,6BAA6B,EAAE;QAC5Dc,MAAM,EAAE;UACNF,UAAU;UACVC;QACF;MACF,CAAC,CAAC;MACF,OAAOd,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1D,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;EACE,MAAMiB,qBAAqBA,CAACR,SAAS,EAAE;IACrC,IAAI;MACF,MAAM;QAAEX;MAAK,CAAC,GAAG,MAAML,GAAG,CAACyB,IAAI,CAAC,oBAAoBT,SAAS,OAAO,CAAC;MACrE,OAAOX,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;AACF;AACA;AACA;AACA;EACE,MAAMmB,oBAAoBA,CAACV,SAAS,EAAEW,QAAQ,EAAE;IAC9C,IAAI;MACF,MAAM;QAAEtB;MAAK,CAAC,GAAG,MAAML,GAAG,CAACyB,IAAI,CAAC,mBAAmBT,SAAS,OAAO,EAAE,IAAI,EAAE;QACzEI,MAAM,EAAE;UAAEO;QAAS;MACrB,CAAC,CAAC;MACF,OAAOtB,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAMA,KAAK;IACb;EACF;AACF,CAAC;AAED,eAAeN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}