{"ast":null,"code":"// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n//  // üü¢ Public: L·∫•y th√¥ng tin user theo ID - TH√äM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`üì° Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"üì® API Response:\", response);\n//     console.log(\"üìä Response data:\", response.data);\n\n//     // ‚úÖ Ki·ªÉm tra c·∫•u tr√∫c d·ªØ li·ªáu tr·∫£ v·ªÅ\n//     if (response.data) {\n//       console.log(\"üîç Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n\n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n\n//     // ‚úÖ Log chi ti·∫øt l·ªói\n//     if (error.response) {\n//       console.error(\"üö® Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n\n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user - DEBUG CHI TI·∫æT\n// async updateUser(userId, userData) {\n//   try {\n//     // L·∫•y token t·ª´ localStorage\n//     const token = localStorage.getItem(\"token\");\n//     console.log(\"üîê Token for update:\", token ? `EXISTS (${token.length} chars)` : \"MISSING\");\n\n//     if (!token) {\n//       throw new Error(\"No authentication token found in localStorage\");\n//     }\n\n//     const config = {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Authorization\": `Bearer ${token}`\n//       }\n//     };\n\n//     // Ch·ªâ g·ª≠i c√°c tr∆∞·ªùng c√≥ trong form\n//     const updateData = {\n//       first_name: userData.first_name,\n//       last_name: userData.last_name,\n//       email: userData.email,\n//       mobile_number: userData.mobile_number\n//     };\n\n//     console.log(\"üì§ Sending UPDATE request to API:\", {\n//       url: `/public/users/${userId}`,\n//       data: updateData,\n//       headers: config.headers\n//     });\n\n//     const response = await api.put(`/public/users/${userId}`, updateData, config);\n//     console.log(\"‚úÖ API Update successful - Response:\", response.data);\n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå API Update failed:\", error);\n\n//     if (error.response) {\n//       console.error(\"üö® Error response details:\", {\n//         status: error.response.status,\n//         data: error.response.data,\n//         headers: error.response.headers\n//       });\n//     } else if (error.request) {\n//       console.error(\"üö® No response received:\", error.request);\n//     } else {\n//       console.error(\"üö® Request setup error:\", error.message);\n//     }\n\n//     throw error;\n//   }\n// },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // üîê Admin: L·∫•y t·∫•t c·∫£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß - S·ª¨A L·∫†I ƒê·ªÇ NH·∫§T QU√ÅN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`üîç Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n\n//     console.log(\"üìä Raw API response:\", userData);\n\n//     // ‚úÖ X·ª≠ l√Ω d·ªØ li·ªáu - ∆ØU TI√äN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Gi·ªØ nguy√™n to√†n b·ªô d·ªØ li·ªáu g·ªëc\n//       ...userData,\n\n//       // ‚úÖ NH·∫§T QU√ÅN: ∆Øu ti√™n snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n\n//       // ‚úÖ QUAN TR·ªåNG: ∆Øu ti√™n first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n\n//       // ‚úÖ C√°c field kh√°c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n\n//       // ‚úÖ Full name ƒë·ªÉ ti·ªán s·ª≠ d·ª•ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n\n//     console.log(\"‚úÖ Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // üü¢ C·∫≠p nh·∫≠t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data ƒë·ªÉ g·ª≠i l√™n server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;\n\n// src/services/userService.js\nimport api from \"./api\";\nconst userService = {\n  // Helper: return headers with token if exists\n  _authHeaders() {\n    const token = localStorage.getItem(\"token\");\n    return token ? {\n      Authorization: `Bearer ${token}`\n    } : {};\n  },\n  // ==================== PUBLIC / AUTH FLEXIBLE ENDPOINTS ====================\n\n  // L·∫•y user theo ID: n·∫øu c√≥ token -> g·ªçi /users/:id (protected), else g·ªçi /public/users/:id\n  async getUserById(userId) {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const url = token ? `/users/${userId}` : `/public/users/${userId}`;\n      const config = token ? {\n        headers: this._authHeaders()\n      } : undefined;\n      console.log(`üì° GET ${url} (token ${token ? \"present\" : \"absent\"})`);\n      const response = await api.get(url, config);\n      console.log(\"üì® GET response:\", response === null || response === void 0 ? void 0 : response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user by id:\", error);\n      if (error.response) {\n        console.error(\"üö® Response details:\", {\n          status: error.response.status,\n          data: error.response.data\n        });\n      }\n      throw error;\n    }\n  },\n  // L·∫•y user theo email (public)\n  async getUserByEmail(email) {\n    try {\n      const response = await api.get(`/public/users/email/${encodeURIComponent(email)}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n  // C·∫≠p nh·∫≠t user: ∆∞u ti√™n endpoint b·∫£o m·∫≠t (/users/:id). N·∫øu token kh√¥ng c√≥ -> l·ªói lu√¥n.\n  async updateUser(userId, userData) {\n    try {\n      const token = localStorage.getItem(\"token\");\n      console.log(\"üîê updateUser token:\", token ? `EXISTS (${token.length} chars)` : \"MISSING\");\n      if (!token) {\n        // N·∫øu b·∫°n mu·ªën cho ph√©p update c√¥ng khai endpoint kh√°c, c√≥ th·ªÉ fallback; hi·ªán ta y√™u c·∫ßu token.\n        throw Object.assign(new Error(\"No authentication token\"), {\n          code: \"NO_TOKEN\"\n        });\n      }\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...this._authHeaders()\n        }\n      };\n\n      // G·ª≠i l√™n endpoint b·∫£o m·∫≠t\n      const url = `/users/${userId}`; // protected route\n      console.log(\"üì§ PUT\", url, userData);\n      const response = await api.put(url, userData, config);\n      console.log(\"‚úÖ updateUser success:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå updateUser failed:\", error);\n      if (error.response) {\n        console.error(\"üö® Response:\", {\n          status: error.response.status,\n          data: error.response.data\n        });\n      } else if (error.request) {\n        console.error(\"üö® No response:\", error.request);\n      } else {\n        console.error(\"üö® Setup error:\", error.message);\n      }\n      throw error;\n    }\n  },\n  // ==================== UTILITY / CONVENIENCE ====================\n\n  // Tr·∫£ v·ªÅ profile ƒë√£ normalize (∆∞u ti√™n snake_case)\n  async getUserProfile(userId) {\n    try {\n      console.log(\"üîç getUserProfile for\", userId);\n      const raw = await this.getUserById(userId);\n\n      // raw c√≥ th·ªÉ l√† { user_id, first_name, ... } ho·∫∑c { userId, firstName, ... }\n      const processed = {\n        ...raw,\n        userId: raw.user_id || raw.userId || userId,\n        user_id: raw.user_id || raw.userId || userId,\n        first_name: raw.first_name || raw.firstName || \"\",\n        last_name: raw.last_name || raw.lastName || \"\",\n        email: raw.email || \"\",\n        mobile_number: raw.mobile_number || raw.mobileNumber || \"\",\n        fullName: `${raw.first_name || raw.firstName || \"\"} ${raw.last_name || raw.lastName || \"\"}`.trim()\n      };\n      console.log(\"‚úÖ getUserProfile processed:\", processed);\n      return processed;\n    } catch (error) {\n      console.error(\"‚ùå getUserProfile error:\", error);\n      throw error;\n    }\n  },\n  // Wrapper convenient: nh·∫≠n profileData v√† g·ªçi updateUser (gi·ªØ nh·∫•t qu√°n snake_case)\n  async updateUserProfile(userId, profileData) {\n    try {\n      var _profileData$first_na, _profileData$last_nam, _profileData$mobile_n;\n      const payload = {\n        first_name: (_profileData$first_na = profileData.first_name) !== null && _profileData$first_na !== void 0 ? _profileData$first_na : profileData.firstName,\n        last_name: (_profileData$last_nam = profileData.last_name) !== null && _profileData$last_nam !== void 0 ? _profileData$last_nam : profileData.lastName,\n        email: profileData.email,\n        mobile_number: (_profileData$mobile_n = profileData.mobile_number) !== null && _profileData$mobile_n !== void 0 ? _profileData$mobile_n : profileData.mobileNumber\n      };\n      const result = await this.updateUser(userId, payload);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå updateUserProfile error:\", error);\n      throw error;\n    }\n  },\n  // Admin endpoints (b·∫°n ƒë√£ c√≥)...\n  async getAllUsers() {\n    try {\n      const {\n        data\n      } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå getAllUsers error:\", error);\n      throw error;\n    }\n  },\n  async deleteUser(userId) {\n    try {\n      const {\n        data\n      } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå deleteUser error:\", error);\n      throw error;\n    }\n  }\n};\nexport default userService;","map":{"version":3,"names":["api","userService","_authHeaders","token","localStorage","getItem","Authorization","getUserById","userId","url","config","headers","undefined","console","log","response","get","data","error","status","getUserByEmail","email","encodeURIComponent","updateUser","userData","length","Object","assign","Error","code","put","request","message","getUserProfile","raw","processed","user_id","first_name","firstName","last_name","lastName","mobile_number","mobileNumber","fullName","trim","updateUserProfile","profileData","_profileData$first_na","_profileData$last_nam","_profileData$mobile_n","payload","result","getAllUsers","deleteUser","delete"],"sources":["D:/JVA/frontend/src/services/userService.js"],"sourcesContent":["// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n  \n//   // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n//  // üü¢ Public: L·∫•y th√¥ng tin user theo ID - TH√äM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`üì° Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"üì® API Response:\", response);\n//     console.log(\"üìä Response data:\", response.data);\n    \n//     // ‚úÖ Ki·ªÉm tra c·∫•u tr√∫c d·ªØ li·ªáu tr·∫£ v·ªÅ\n//     if (response.data) {\n//       console.log(\"üîç Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n    \n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n    \n//     // ‚úÖ Log chi ti·∫øt l·ªói\n//     if (error.response) {\n//       console.error(\"üö® Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n    \n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user - DEBUG CHI TI·∫æT\n// async updateUser(userId, userData) {\n//   try {\n//     // L·∫•y token t·ª´ localStorage\n//     const token = localStorage.getItem(\"token\");\n//     console.log(\"üîê Token for update:\", token ? `EXISTS (${token.length} chars)` : \"MISSING\");\n    \n//     if (!token) {\n//       throw new Error(\"No authentication token found in localStorage\");\n//     }\n\n//     const config = {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Authorization\": `Bearer ${token}`\n//       }\n//     };\n\n//     // Ch·ªâ g·ª≠i c√°c tr∆∞·ªùng c√≥ trong form\n//     const updateData = {\n//       first_name: userData.first_name,\n//       last_name: userData.last_name,\n//       email: userData.email,\n//       mobile_number: userData.mobile_number\n//     };\n\n//     console.log(\"üì§ Sending UPDATE request to API:\", {\n//       url: `/public/users/${userId}`,\n//       data: updateData,\n//       headers: config.headers\n//     });\n\n//     const response = await api.put(`/public/users/${userId}`, updateData, config);\n//     console.log(\"‚úÖ API Update successful - Response:\", response.data);\n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå API Update failed:\", error);\n    \n//     if (error.response) {\n//       console.error(\"üö® Error response details:\", {\n//         status: error.response.status,\n//         data: error.response.data,\n//         headers: error.response.headers\n//       });\n//     } else if (error.request) {\n//       console.error(\"üö® No response received:\", error.request);\n//     } else {\n//       console.error(\"üö® Request setup error:\", error.message);\n//     }\n    \n//     throw error;\n//   }\n// },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // üîê Admin: L·∫•y t·∫•t c·∫£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß - S·ª¨A L·∫†I ƒê·ªÇ NH·∫§T QU√ÅN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`üîç Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n    \n//     console.log(\"üìä Raw API response:\", userData);\n    \n//     // ‚úÖ X·ª≠ l√Ω d·ªØ li·ªáu - ∆ØU TI√äN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Gi·ªØ nguy√™n to√†n b·ªô d·ªØ li·ªáu g·ªëc\n//       ...userData,\n      \n//       // ‚úÖ NH·∫§T QU√ÅN: ∆Øu ti√™n snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n      \n//       // ‚úÖ QUAN TR·ªåNG: ∆Øu ti√™n first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n      \n//       // ‚úÖ C√°c field kh√°c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n      \n//       // ‚úÖ Full name ƒë·ªÉ ti·ªán s·ª≠ d·ª•ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n    \n//     console.log(\"‚úÖ Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // üü¢ C·∫≠p nh·∫≠t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data ƒë·ªÉ g·ª≠i l√™n server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;\n\n\n// src/services/userService.js\nimport api from \"./api\";\n\nconst userService = {\n  // Helper: return headers with token if exists\n  _authHeaders() {\n    const token = localStorage.getItem(\"token\");\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  },\n\n  // ==================== PUBLIC / AUTH FLEXIBLE ENDPOINTS ====================\n\n  // L·∫•y user theo ID: n·∫øu c√≥ token -> g·ªçi /users/:id (protected), else g·ªçi /public/users/:id\n  async getUserById(userId) {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const url = token ? `/users/${userId}` : `/public/users/${userId}`;\n      const config = token ? { headers: this._authHeaders() } : undefined;\n\n      console.log(`üì° GET ${url} (token ${token ? \"present\" : \"absent\"})`);\n      const response = await api.get(url, config);\n      console.log(\"üì® GET response:\", response?.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user by id:\", error);\n      if (error.response) {\n        console.error(\"üö® Response details:\", {\n          status: error.response.status,\n          data: error.response.data,\n        });\n      }\n      throw error;\n    }\n  },\n\n  // L·∫•y user theo email (public)\n  async getUserByEmail(email) {\n    try {\n      const response = await api.get(`/public/users/email/${encodeURIComponent(email)}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n\n  // C·∫≠p nh·∫≠t user: ∆∞u ti√™n endpoint b·∫£o m·∫≠t (/users/:id). N·∫øu token kh√¥ng c√≥ -> l·ªói lu√¥n.\n  async updateUser(userId, userData) {\n    try {\n      const token = localStorage.getItem(\"token\");\n      console.log(\"üîê updateUser token:\", token ? `EXISTS (${token.length} chars)` : \"MISSING\");\n\n      if (!token) {\n        // N·∫øu b·∫°n mu·ªën cho ph√©p update c√¥ng khai endpoint kh√°c, c√≥ th·ªÉ fallback; hi·ªán ta y√™u c·∫ßu token.\n        throw Object.assign(new Error(\"No authentication token\"), { code: \"NO_TOKEN\" });\n      }\n\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...this._authHeaders(),\n        },\n      };\n\n      // G·ª≠i l√™n endpoint b·∫£o m·∫≠t\n      const url = `/users/${userId}`; // protected route\n      console.log(\"üì§ PUT\", url, userData);\n      const response = await api.put(url, userData, config);\n      console.log(\"‚úÖ updateUser success:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå updateUser failed:\", error);\n      if (error.response) {\n        console.error(\"üö® Response:\", {\n          status: error.response.status,\n          data: error.response.data,\n        });\n      } else if (error.request) {\n        console.error(\"üö® No response:\", error.request);\n      } else {\n        console.error(\"üö® Setup error:\", error.message);\n      }\n      throw error;\n    }\n  },\n\n  // ==================== UTILITY / CONVENIENCE ====================\n\n  // Tr·∫£ v·ªÅ profile ƒë√£ normalize (∆∞u ti√™n snake_case)\n  async getUserProfile(userId) {\n    try {\n      console.log(\"üîç getUserProfile for\", userId);\n      const raw = await this.getUserById(userId);\n\n      // raw c√≥ th·ªÉ l√† { user_id, first_name, ... } ho·∫∑c { userId, firstName, ... }\n      const processed = {\n        ...raw,\n        userId: raw.user_id || raw.userId || userId,\n        user_id: raw.user_id || raw.userId || userId,\n        first_name: raw.first_name || raw.firstName || \"\",\n        last_name: raw.last_name || raw.lastName || \"\",\n        email: raw.email || \"\",\n        mobile_number: raw.mobile_number || raw.mobileNumber || \"\",\n        fullName: `${raw.first_name || raw.firstName || \"\"} ${raw.last_name || raw.lastName || \"\"}`.trim()\n      };\n\n      console.log(\"‚úÖ getUserProfile processed:\", processed);\n      return processed;\n    } catch (error) {\n      console.error(\"‚ùå getUserProfile error:\", error);\n      throw error;\n    }\n  },\n\n  // Wrapper convenient: nh·∫≠n profileData v√† g·ªçi updateUser (gi·ªØ nh·∫•t qu√°n snake_case)\n  async updateUserProfile(userId, profileData) {\n    try {\n      const payload = {\n        first_name: profileData.first_name ?? profileData.firstName,\n        last_name: profileData.last_name ?? profileData.lastName,\n        email: profileData.email,\n        mobile_number: profileData.mobile_number ?? profileData.mobileNumber\n      };\n      const result = await this.updateUser(userId, payload);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå updateUserProfile error:\", error);\n      throw error;\n    }\n  },\n\n  // Admin endpoints (b·∫°n ƒë√£ c√≥)...\n  async getAllUsers() {\n    try {\n      const { data } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå getAllUsers error:\", error);\n      throw error;\n    }\n  },\n\n  async deleteUser(userId) {\n    try {\n      const { data } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå deleteUser error:\", error);\n      throw error;\n    }\n  }\n};\n\nexport default userService;\n"],"mappings":"AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,GAAG;EAClB;EACAC,YAAYA,CAAA,EAAG;IACb,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,OAAOF,KAAK,GAAG;MAAEG,aAAa,EAAE,UAAUH,KAAK;IAAG,CAAC,GAAG,CAAC,CAAC;EAC1D,CAAC;EAED;;EAEA;EACA,MAAMI,WAAWA,CAACC,MAAM,EAAE;IACxB,IAAI;MACF,MAAML,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,O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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}