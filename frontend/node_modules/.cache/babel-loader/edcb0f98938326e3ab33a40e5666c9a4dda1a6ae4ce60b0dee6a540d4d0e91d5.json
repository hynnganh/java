{"ast":null,"code":"// // src/services/productService.js\n// import api from \"./api\";\n\n// const productService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m\n//    getAllProducts: async () => {\n//     try {\n//       const response = await api.get('/public/products');\n//       console.log(\"üîç API Response structure:\", response);\n//       console.log(\"üîç API Response data:\", response.data);\n//       return response.data;\n//     } catch (error) {\n//       console.error(\"‚ùå API Error:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // Ho·∫∑c n·∫øu b·∫°n d√πng Spring Pageable\n//   getAllProductsWithPagination: async (page = 0, size = 20) => {\n//     try {\n//       const response = await api.get(`/products?page=${page}&size=${size}`);\n//       return response.data;\n//     } catch (error) {\n//       console.error(\"‚ùå API Error:\", error);\n//       throw error;\n//     }\n//   },\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n// // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n// async getProductById(productId) {\n//   try {\n//     // Ki·ªÉm tra productId - bao g·ªìm c·∫£ chu·ªói 'undefined'\n//     if (!productId || productId === 'undefined' || productId === 'null') {\n//       throw new Error('Product ID kh√¥ng h·ª£p l·ªá: ' + productId);\n//     }\n\n//     console.log(`üì° Calling API: /public/products/${productId}`);\n//     const { data } = await api.get(`/public/products/${productId}`);\n//     return data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m:\", error);\n//     console.error(\"üîç Chi ti·∫øt l·ªói:\", {\n//       status: error.response?.status,\n//       data: error.response?.data,\n//       productId\n//     });\n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo danh m·ª•c\n//   async getProductsByCategory(categoryId) {\n//     try {\n//       const { data } = await api.get(`/public/categories/${categoryId}/products`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m theo danh m·ª•c:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: T√¨m ki·∫øm s·∫£n ph·∫©m theo t·ª´ kh√≥a\n//   async searchProductsByKeyword(keyword) {\n//     try {\n//       const { data } = await api.get(`/public/products/keyword/${keyword}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi t√¨m ki·∫øm s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: L·∫•y ƒë∆∞·ªùng d·∫´n ·∫£nh s·∫£n ph·∫©m\n//   getProductImage(fileName) {\n//     if (!fileName) return \"https://cdn-icons-png.flaticon.com/512/679/679922.png\";\n//     return `/public/products/image/${fileName}`;\n//   },\n\n//   // üîê Admin: T·∫°o s·∫£n ph·∫©m m·ªõi\n//   async createProduct(categoryId, data) {\n//     try {\n//       const { data: result } = await api.post(`/admin/categories/${categoryId}/products`, data);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi t·∫°o s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: C·∫≠p nh·∫≠t s·∫£n ph·∫©m\n//   async updateProduct(productId, data) {\n//     try {\n//       const { data: result } = await api.put(`/admin/products/${productId}`, data);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a s·∫£n ph·∫©m\n//   async deleteProduct(productId) {\n//     try {\n//       const { data: result } = await api.delete(`/admin/products/${productId}`);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: C·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m\n//   async updateProductImage(productId, imageFile) {\n//     try {\n//       const formData = new FormData();\n//       formData.append(\"file\", imageFile);\n\n//       const { data: result } = await api.put(\n//         `/admin/products/${productId}/image`,\n//         formData,\n//         { headers: { \"Content-Type\": \"multipart/form-data\" } }\n//       );\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n// };\n\n// export default productService;\n\n// services/productService.js\nimport api from './api';\nconst productService = {\n  // L·∫•y s·∫£n ph·∫©m v·ªõi ph√¢n trang\n  getAllProducts: async (page = 0, size = 20) => {\n    try {\n      const response = await api.get(`/public/products?page=${page}&size=${size}`);\n      console.log(\"üîç API Response:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n  // Th·ª≠ l·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m kh√¥ng ph√¢n trang\n  getAllProductsNoPagination: async () => {\n    try {\n      const response = await api.get('public/products?size=1000'); // L·∫•y nhi·ªÅu s·∫£n ph·∫©m\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n  // Ho·∫∑c th·ª≠ endpoint kh√°c\n  getAllProductsAll: async () => {\n    try {\n      const response = await api.get('/products/all');\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      // N·∫øu endpoint kh√¥ng t·ªìn t·∫°i, fallback v·ªÅ ph√¢n trang\n      return productService.getAllProducts(0, 100);\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProducts","page","size","response","get","console","log","data","error","getAllProductsNoPagination","getAllProductsAll"],"sources":["D:/JVA/frontend/src/services/productService.js"],"sourcesContent":["// // src/services/productService.js\n// import api from \"./api\";\n\n// const productService = {\n//   // üü¢ Public: L·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m\n//    getAllProducts: async () => {\n//     try {\n//       const response = await api.get('/public/products');\n//       console.log(\"üîç API Response structure:\", response);\n//       console.log(\"üîç API Response data:\", response.data);\n//       return response.data;\n//     } catch (error) {\n//       console.error(\"‚ùå API Error:\", error);\n//       throw error;\n//     }\n//   },\n  \n//   // Ho·∫∑c n·∫øu b·∫°n d√πng Spring Pageable\n//   getAllProductsWithPagination: async (page = 0, size = 20) => {\n//     try {\n//       const response = await api.get(`/products?page=${page}&size=${size}`);\n//       return response.data;\n//     } catch (error) {\n//       console.error(\"‚ùå API Error:\", error);\n//       throw error;\n//     }\n//   },\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n// // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo ID\n// async getProductById(productId) {\n//   try {\n//     // Ki·ªÉm tra productId - bao g·ªìm c·∫£ chu·ªói 'undefined'\n//     if (!productId || productId === 'undefined' || productId === 'null') {\n//       throw new Error('Product ID kh√¥ng h·ª£p l·ªá: ' + productId);\n//     }\n    \n//     console.log(`üì° Calling API: /public/products/${productId}`);\n//     const { data } = await api.get(`/public/products/${productId}`);\n//     return data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m:\", error);\n//     console.error(\"üîç Chi ti·∫øt l·ªói:\", {\n//       status: error.response?.status,\n//       data: error.response?.data,\n//       productId\n//     });\n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y s·∫£n ph·∫©m theo danh m·ª•c\n//   async getProductsByCategory(categoryId) {\n//     try {\n//       const { data } = await api.get(`/public/categories/${categoryId}/products`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y s·∫£n ph·∫©m theo danh m·ª•c:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: T√¨m ki·∫øm s·∫£n ph·∫©m theo t·ª´ kh√≥a\n//   async searchProductsByKeyword(keyword) {\n//     try {\n//       const { data } = await api.get(`/public/products/keyword/${keyword}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi t√¨m ki·∫øm s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: L·∫•y ƒë∆∞·ªùng d·∫´n ·∫£nh s·∫£n ph·∫©m\n//   getProductImage(fileName) {\n//     if (!fileName) return \"https://cdn-icons-png.flaticon.com/512/679/679922.png\";\n//     return `/public/products/image/${fileName}`;\n//   },\n\n//   // üîê Admin: T·∫°o s·∫£n ph·∫©m m·ªõi\n//   async createProduct(categoryId, data) {\n//     try {\n//       const { data: result } = await api.post(`/admin/categories/${categoryId}/products`, data);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi t·∫°o s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: C·∫≠p nh·∫≠t s·∫£n ph·∫©m\n//   async updateProduct(productId, data) {\n//     try {\n//       const { data: result } = await api.put(`/admin/products/${productId}`, data);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a s·∫£n ph·∫©m\n//   async deleteProduct(productId) {\n//     try {\n//       const { data: result } = await api.delete(`/admin/products/${productId}`);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: C·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m\n//   async updateProductImage(productId, imageFile) {\n//     try {\n//       const formData = new FormData();\n//       formData.append(\"file\", imageFile);\n\n//       const { data: result } = await api.put(\n//         `/admin/products/${productId}/image`,\n//         formData,\n//         { headers: { \"Content-Type\": \"multipart/form-data\" } }\n//       );\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t ·∫£nh s·∫£n ph·∫©m:\", error);\n//       throw error;\n//     }\n//   },\n// };\n\n// export default productService;\n\n\n// services/productService.js\nimport api from './api';\n\nconst productService = {\n  // L·∫•y s·∫£n ph·∫©m v·ªõi ph√¢n trang\n  getAllProducts: async (page = 0, size = 20) => {\n    try {\n      const response = await api.get(`/public/products?page=${page}&size=${size}`);\n      console.log(\"üîç API Response:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n\n  // Th·ª≠ l·∫•y t·∫•t c·∫£ s·∫£n ph·∫©m kh√¥ng ph√¢n trang\n  getAllProductsNoPagination: async () => {\n    try {\n      const response = await api.get('public/products?size=1000'); // L·∫•y nhi·ªÅu s·∫£n ph·∫©m\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      throw error;\n    }\n  },\n\n  // Ho·∫∑c th·ª≠ endpoint kh√°c\n  getAllProductsAll: async () => {\n    try {\n      const response = await api.get('/products/all');\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå API Error:\", error);\n      // N·∫øu endpoint kh√¥ng t·ªìn t·∫°i, fallback v·ªÅ ph√¢n trang\n      return productService.getAllProducts(0, 100);\n    }\n  }\n};\n\nexport default productService;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,cAAc,GAAG;EACrB;EACAC,cAAc,EAAE,MAAAA,CAAOC,IAAI,GAAG,CAAC,EAAEC,IAAI,GAAG,EAAE,KAAK;IAC7C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,yBAAyBH,IAAI,SAASC,IAAI,EAAE,CAAC;MAC5EG,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,QAAQ,CAACI,IAAI,CAAC;MAC9C,OAAOJ,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACAC,0BAA0B,EAAE,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMN,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,2BAA2B,CAAC,CAAC,CAAC;MAC7D,OAAOD,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACAE,iBAAiB,EAAE,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,eAAe,CAAC;MAC/C,OAAOD,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC;MACA,OAAOT,cAAc,CAACC,cAAc,CAAC,CAAC,EAAE,GAAG,CAAC;IAC9C;EACF;AACF,CAAC;AAED,eAAeD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}