{"ast":null,"code":"// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n//  // üü¢ Public: L·∫•y th√¥ng tin user theo ID - TH√äM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`üì° Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"üì® API Response:\", response);\n//     console.log(\"üìä Response data:\", response.data);\n\n//     // ‚úÖ Ki·ªÉm tra c·∫•u tr√∫c d·ªØ li·ªáu tr·∫£ v·ªÅ\n//     if (response.data) {\n//       console.log(\"üîç Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n\n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n\n//     // ‚úÖ Log chi ti·∫øt l·ªói\n//     if (error.response) {\n//       console.error(\"üö® Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n\n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user\n//   async updateUser(userId, userData) {\n//     try {\n//       const { data } = await api.put(`/public/users/${userId}`, userData);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // üîê Admin: L·∫•y t·∫•t c·∫£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß - S·ª¨A L·∫†I ƒê·ªÇ NH·∫§T QU√ÅN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`üîç Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n\n//     console.log(\"üìä Raw API response:\", userData);\n\n//     // ‚úÖ X·ª≠ l√Ω d·ªØ li·ªáu - ∆ØU TI√äN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Gi·ªØ nguy√™n to√†n b·ªô d·ªØ li·ªáu g·ªëc\n//       ...userData,\n\n//       // ‚úÖ NH·∫§T QU√ÅN: ∆Øu ti√™n snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n\n//       // ‚úÖ QUAN TR·ªåNG: ∆Øu ti√™n first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n\n//       // ‚úÖ C√°c field kh√°c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n\n//       // ‚úÖ Full name ƒë·ªÉ ti·ªán s·ª≠ d·ª•ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n\n//     console.log(\"‚úÖ Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // üü¢ C·∫≠p nh·∫≠t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data ƒë·ªÉ g·ª≠i l√™n server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;\n\n// services/userService.js\nimport api from \"./api\";\nconst userService = {\n  // ==================== PUBLIC ENDPOINTS ====================\n\n  // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n  async getUserById(userId) {\n    try {\n      console.log(`üì° Calling API: /public/users/${userId}`);\n      const response = await api.get(`/public/users/${userId}`);\n      console.log(\"üì® API Response:\", response);\n      console.log(\"üìä Response data:\", response.data);\n      if (response.data) {\n        console.log(\"üîç Data structure check:\", {\n          'hasFirst_name': !!response.data.first_name,\n          'hasFirstName': !!response.data.firstName,\n          'first_name value': response.data.first_name,\n          'firstName value': response.data.firstName,\n          'allKeys': Object.keys(response.data)\n        });\n      }\n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n      if (error.response) {\n        console.error(\"üö® Error response:\", {\n          status: error.response.status,\n          data: error.response.data\n        });\n      }\n      throw error;\n    }\n  },\n  // üü¢ Public: L·∫•y th√¥ng tin user theo email\n  async getUserByEmail(email) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/users/email/${email}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user - C·∫¨P NH·∫¨T ƒê·ªÇ TH√äM TOKEN\n  async updateUser(userId, userData) {\n    try {\n      // L·∫•y token t·ª´ localStorage\n      const token = localStorage.getItem(\"token\");\n      console.log(\"üîê Token for update:\", token ? \"Exists\" : \"Missing\");\n      if (!token) {\n        throw new Error(\"No authentication token found\");\n      }\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      };\n      console.log(\"üì§ Sending update request:\", {\n        url: `/public/users/${userId}`,\n        data: userData,\n        headers: config.headers\n      });\n      const {\n        data\n      } = await api.put(`/public/users/${userId}`, userData, config);\n      console.log(\"‚úÖ Update successful:\", data);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n      if (error.response) {\n        console.error(\"üö® Error details:\", {\n          status: error.response.status,\n          data: error.response.data,\n          headers: error.response.headers\n        });\n      }\n      throw error;\n    }\n  },\n  // ==================== ADMIN ENDPOINTS ====================\n\n  // üîê Admin: L·∫•y t·∫•t c·∫£ users\n  async getAllUsers() {\n    try {\n      const {\n        data\n      } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n      throw error;\n    }\n  },\n  // üîê Admin: X√≥a user\n  async deleteUser(userId) {\n    try {\n      const {\n        data\n      } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n      throw error;\n    }\n  },\n  // ==================== UTILITY METHODS ====================\n\n  // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n  async checkUserExists(userId) {\n    try {\n      await this.getUserById(userId);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß\n  async getUserProfile(userId) {\n    try {\n      console.log(`üîç Getting user profile for ID: ${userId}`);\n      const userData = await this.getUserById(userId);\n      console.log(\"üìä Raw API response:\", userData);\n      const processedData = {\n        ...userData,\n        userId: userData.user_id || userData.userId || userId,\n        user_id: userData.user_id || userData.userId || userId,\n        first_name: userData.first_name || userData.firstName || \"\",\n        last_name: userData.last_name || userData.lastName || \"\",\n        email: userData.email,\n        mobile_number: userData.mobile_number || userData.mobileNumber,\n        fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n      };\n      console.log(\"‚úÖ Processed user profile:\", processedData);\n      return processedData;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n      throw error;\n    }\n  },\n  // üü¢ C·∫≠p nh·∫≠t profile user - PH∆Ø∆†NG TH·ª®C M·ªöI ƒê∆†N GI·∫¢N H∆†N\n  async updateUserProfile(userId, profileData) {\n    try {\n      // Format data ƒë·ªÉ g·ª≠i l√™n server - ch·ªâ g·ª≠i c√°c tr∆∞·ªùng cho ph√©p c·∫≠p nh·∫≠t\n      const updateData = {\n        first_name: profileData.first_name,\n        last_name: profileData.last_name,\n        mobile_number: profileData.mobile_number,\n        email: profileData.email\n        // address: profileData.address,\n        // date_of_birth: profileData.date_of_birth\n      };\n\n      // Lo·∫°i b·ªè c√°c tr∆∞·ªùng undefined ho·∫∑c null\n      Object.keys(updateData).forEach(key => {\n        if (updateData[key] === undefined || updateData[key] === null) {\n          delete updateData[key];\n        }\n      });\n      console.log(\"üîÑ Sending profile update:\", updateData);\n      const result = await this.updateUser(userId, updateData);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n      throw error;\n    }\n  },\n  // üü¢ Ki·ªÉm tra token c√≥ h·ª£p l·ªá kh√¥ng\n  async validateToken() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        return false;\n      }\n\n      // C√≥ th·ªÉ g·ªçi m·ªôt API ƒë∆°n gi·∫£n ƒë·ªÉ validate token\n      const response = await api.get(\"/public/validate-token\");\n      return response.status === 200;\n    } catch (error) {\n      return false;\n    }\n  }\n};\nexport default userService;","map":{"version":3,"names":["api","userService","getUserById","userId","console","log","response","get","data","first_name","firstName","Object","keys","error","status","getUserByEmail","email","updateUser","userData","token","localStorage","getItem","Error","config","headers","url","put","getAllUsers","deleteUser","delete","checkUserExists","getUserProfile","processedData","user_id","last_name","lastName","mobile_number","mobileNumber","fullName","trim","updateUserProfile","profileData","updateData","forEach","key","undefined","result","validateToken"],"sources":["D:/JVA/frontend/src/services/userService.js"],"sourcesContent":["// // services/userService.js\n// import api from \"./api\";\n\n// const userService = {\n//   // ==================== PUBLIC ENDPOINTS ====================\n  \n//   // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n//  // üü¢ Public: L·∫•y th√¥ng tin user theo ID - TH√äM DEBUG\n// async getUserById(userId) {\n//   try {\n//     console.log(`üì° Calling API: /public/users/${userId}`);\n//     const response = await api.get(`/public/users/${userId}`);\n//     console.log(\"üì® API Response:\", response);\n//     console.log(\"üìä Response data:\", response.data);\n    \n//     // ‚úÖ Ki·ªÉm tra c·∫•u tr√∫c d·ªØ li·ªáu tr·∫£ v·ªÅ\n//     if (response.data) {\n//       console.log(\"üîç Data structure check:\", {\n//         'hasFirst_name': !!response.data.first_name,\n//         'hasFirstName': !!response.data.firstName,\n//         'first_name value': response.data.first_name,\n//         'firstName value': response.data.firstName,\n//         'allKeys': Object.keys(response.data)\n//       });\n//     }\n    \n//     return response.data;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n    \n//     // ‚úÖ Log chi ti·∫øt l·ªói\n//     if (error.response) {\n//       console.error(\"üö® Error response:\", {\n//         status: error.response.status,\n//         data: error.response.data\n//       });\n//     }\n    \n//     throw error;\n//   }\n// },\n\n//   // üü¢ Public: L·∫•y th√¥ng tin user theo email\n//   async getUserByEmail(email) {\n//     try {\n//       const { data } = await api.get(`/public/users/email/${email}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user\n//   async updateUser(userId, userData) {\n//     try {\n//       const { data } = await api.put(`/public/users/${userId}`, userData);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== ADMIN ENDPOINTS ====================\n\n//   // üîê Admin: L·∫•y t·∫•t c·∫£ users\n//   async getAllUsers() {\n//     try {\n//       const { data } = await api.get(\"/admin/users\");\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // üîê Admin: X√≥a user\n//   async deleteUser(userId) {\n//     try {\n//       const { data } = await api.delete(`/admin/users/${userId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ==================== UTILITY METHODS ====================\n\n//   // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n//   async checkUserExists(userId) {\n//     try {\n//       await this.getUserById(userId);\n//       return true;\n//     } catch (error) {\n//       return false;\n//     }\n//   },\n\n// // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß - S·ª¨A L·∫†I ƒê·ªÇ NH·∫§T QU√ÅN\n// async getUserProfile(userId) {\n//   try {\n//     console.log(`üîç Getting user profile for ID: ${userId}`);\n//     const userData = await this.getUserById(userId);\n    \n//     console.log(\"üìä Raw API response:\", userData);\n    \n//     // ‚úÖ X·ª≠ l√Ω d·ªØ li·ªáu - ∆ØU TI√äN snake_case (first_name, last_name)\n//     const processedData = {\n//       // Gi·ªØ nguy√™n to√†n b·ªô d·ªØ li·ªáu g·ªëc\n//       ...userData,\n      \n//       // ‚úÖ NH·∫§T QU√ÅN: ∆Øu ti√™n snake_case\n//       userId: userData.user_id || userData.userId || userId,\n//       user_id: userData.user_id || userData.userId || userId,\n      \n//       // ‚úÖ QUAN TR·ªåNG: ∆Øu ti√™n first_name, last_name\n//       first_name: userData.first_name || userData.firstName || \"\",\n//       last_name: userData.last_name || userData.lastName || \"\",\n      \n//       // ‚úÖ C√°c field kh√°c\n//       email: userData.email,\n//       mobile_number: userData.mobile_number || userData.mobileNumber,\n      \n//       // ‚úÖ Full name ƒë·ªÉ ti·ªán s·ª≠ d·ª•ng\n//       fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n//     };\n    \n//     console.log(\"‚úÖ Processed user profile:\", processedData);\n//     return processedData;\n//   } catch (error) {\n//     console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n//     throw error;\n//   }\n// },\n\n//   // üü¢ C·∫≠p nh·∫≠t profile user\n//   async updateUserProfile(userId, profileData) {\n//     try {\n//       // Format data ƒë·ªÉ g·ª≠i l√™n server\n//       const formattedData = {\n//         first_name: profileData.firstName || profileData.first_name,\n//         last_name: profileData.lastName || profileData.last_name,\n//         mobile_number: profileData.mobileNumber || profileData.mobile_number,\n//         email: profileData.email\n//       };\n\n//       const result = await this.updateUser(userId, formattedData);\n//       return result;\n//     } catch (error) {\n//       console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default userService;\n\n// services/userService.js\nimport api from \"./api\";\n\nconst userService = {\n  // ==================== PUBLIC ENDPOINTS ====================\n  \n  // üü¢ Public: L·∫•y th√¥ng tin user theo ID\n  async getUserById(userId) {\n    try {\n      console.log(`üì° Calling API: /public/users/${userId}`);\n      const response = await api.get(`/public/users/${userId}`);\n      console.log(\"üì® API Response:\", response);\n      console.log(\"üìä Response data:\", response.data);\n      \n      if (response.data) {\n        console.log(\"üîç Data structure check:\", {\n          'hasFirst_name': !!response.data.first_name,\n          'hasFirstName': !!response.data.firstName,\n          'first_name value': response.data.first_name,\n          'firstName value': response.data.firstName,\n          'allKeys': Object.keys(response.data)\n        });\n      }\n      \n      return response.data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user:\", error);\n      \n      if (error.response) {\n        console.error(\"üö® Error response:\", {\n          status: error.response.status,\n          data: error.response.data\n        });\n      }\n      \n      throw error;\n    }\n  },\n\n  // üü¢ Public: L·∫•y th√¥ng tin user theo email\n  async getUserByEmail(email) {\n    try {\n      const { data } = await api.get(`/public/users/email/${email}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y th√¥ng tin user b·∫±ng email:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Public: C·∫≠p nh·∫≠t th√¥ng tin user - C·∫¨P NH·∫¨T ƒê·ªÇ TH√äM TOKEN\n  async updateUser(userId, userData) {\n    try {\n      // L·∫•y token t·ª´ localStorage\n      const token = localStorage.getItem(\"token\");\n      console.log(\"üîê Token for update:\", token ? \"Exists\" : \"Missing\");\n      \n      if (!token) {\n        throw new Error(\"No authentication token found\");\n      }\n\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      };\n\n      console.log(\"üì§ Sending update request:\", {\n        url: `/public/users/${userId}`,\n        data: userData,\n        headers: config.headers\n      });\n\n      const { data } = await api.put(`/public/users/${userId}`, userData, config);\n      console.log(\"‚úÖ Update successful:\", data);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t user:\", error);\n      \n      if (error.response) {\n        console.error(\"üö® Error details:\", {\n          status: error.response.status,\n          data: error.response.data,\n          headers: error.response.headers\n        });\n      }\n      \n      throw error;\n    }\n  },\n\n  // ==================== ADMIN ENDPOINTS ====================\n\n  // üîê Admin: L·∫•y t·∫•t c·∫£ users\n  async getAllUsers() {\n    try {\n      const { data } = await api.get(\"/admin/users\");\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y danh s√°ch users:\", error);\n      throw error;\n    }\n  },\n\n  // üîê Admin: X√≥a user\n  async deleteUser(userId) {\n    try {\n      const { data } = await api.delete(`/admin/users/${userId}`);\n      return data;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi x√≥a user:\", error);\n      throw error;\n    }\n  },\n\n  // ==================== UTILITY METHODS ====================\n\n  // üü¢ Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i kh√¥ng\n  async checkUserExists(userId) {\n    try {\n      await this.getUserById(userId);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n\n  // üü¢ L·∫•y th√¥ng tin user profile ƒë·∫ßy ƒë·ªß\n  async getUserProfile(userId) {\n    try {\n      console.log(`üîç Getting user profile for ID: ${userId}`);\n      const userData = await this.getUserById(userId);\n      \n      console.log(\"üìä Raw API response:\", userData);\n      \n      const processedData = {\n        ...userData,\n        userId: userData.user_id || userData.userId || userId,\n        user_id: userData.user_id || userData.userId || userId,\n        first_name: userData.first_name || userData.firstName || \"\",\n        last_name: userData.last_name || userData.lastName || \"\",\n        email: userData.email,\n        mobile_number: userData.mobile_number || userData.mobileNumber,\n        fullName: `${userData.first_name || userData.firstName || ''} ${userData.last_name || userData.lastName || ''}`.trim()\n      };\n      \n      console.log(\"‚úÖ Processed user profile:\", processedData);\n      return processedData;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi l·∫•y user profile:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ C·∫≠p nh·∫≠t profile user - PH∆Ø∆†NG TH·ª®C M·ªöI ƒê∆†N GI·∫¢N H∆†N\n  async updateUserProfile(userId, profileData) {\n    try {\n      // Format data ƒë·ªÉ g·ª≠i l√™n server - ch·ªâ g·ª≠i c√°c tr∆∞·ªùng cho ph√©p c·∫≠p nh·∫≠t\n      const updateData = {\n        first_name: profileData.first_name,\n        last_name: profileData.last_name,\n        mobile_number: profileData.mobile_number,\n        email: profileData.email,\n        // address: profileData.address,\n        // date_of_birth: profileData.date_of_birth\n      };\n\n      // Lo·∫°i b·ªè c√°c tr∆∞·ªùng undefined ho·∫∑c null\n      Object.keys(updateData).forEach(key => {\n        if (updateData[key] === undefined || updateData[key] === null) {\n          delete updateData[key];\n        }\n      });\n\n      console.log(\"üîÑ Sending profile update:\", updateData);\n      const result = await this.updateUser(userId, updateData);\n      return result;\n    } catch (error) {\n      console.error(\"‚ùå L·ªói khi c·∫≠p nh·∫≠t profile:\", error);\n      throw error;\n    }\n  },\n\n  // üü¢ Ki·ªÉm tra token c√≥ h·ª£p l·ªá kh√¥ng\n  async validateToken() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        return false;\n      }\n\n      // C√≥ th·ªÉ g·ªçi m·ªôt API ƒë∆°n gi·∫£n ƒë·ªÉ validate token\n      const response = await api.get(\"/public/validate-token\");\n      return response.status === 200;\n    } catch (error) {\n      return false;\n    }\n  }\n};\n\nexport default userService;"],"mappings":"AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,GAAG;EAClB;;EAEA;EACA,MAAMC,WAAWA,CAACC,MAAM,EAAE;IACxB,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,iCAAiCF,MAAM,EAAE,CAAC;MACtD,MAAMG,QAAQ,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,iBAAiBJ,MAAM,EAAE,CAAC;MACzDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,QAAQ,CAAC;MACzCF,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEC,QAAQ,CAACE,IAAI,CAAC;MAE/C,IAAIF,QAAQ,CAACE,IAAI,EAAE;QACjBJ,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE;UACtC,eAAe,EAAE,CAAC,CAACC,QAAQ,CAACE,IAAI,CAACC,UAAU;UAC3C,cAAc,EAAE,CAAC,CAACH,QAAQ,CA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}