{"ast":null,"code":"import api from \"./api\";\nconst productService = {\n  // ✅ Lấy tất cả sản phẩm\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n  // ✅ Lấy theo danh mục\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n  // ✅ Tìm kiếm theo từ khóa (Fix đúng đường dẫn /keyword/{keyword})\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      // Backend của bạn dùng PathVariable cho keyword\n      const {\n        data\n      } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n  // ✅ Tìm theo danh mục VÀ từ khóa\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit,\n          categoryId: categoryId // Backend nhận categoryId làm RequestParam trong searchProductByKeyword\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n  // ✅ Lấy chi tiết sản phẩm\n  async getProductById(productId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n      throw error;\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProducts","page","limit","data","get","params","pageNumber","pageSize","error","console","getProductsByCategory","categoryId","searchProducts","keyword","encodeURIComponent","getProductsByCategoryAndSearch","getProductById","productId"],"sources":["E:/Java/DoAn/frontend/src/services/productService.js"],"sourcesContent":["import api from \"./api\";\n\nconst productService = {\n  // ✅ Lấy tất cả sản phẩm\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ Lấy theo danh mục\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/categories/${categoryId}/products`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ Tìm kiếm theo từ khóa (Fix đúng đường dẫn /keyword/{keyword})\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      // Backend của bạn dùng PathVariable cho keyword\n      const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ Tìm theo danh mục VÀ từ khóa\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: { \n          pageNumber: page, \n          pageSize: limit,\n          categoryId: categoryId // Backend nhận categoryId làm RequestParam trong searchProductByKeyword\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ Lấy chi tiết sản phẩm\n  async getProductById(productId) {\n    try {\n      const { data } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n      throw error;\n    }\n  }\n};\n\nexport default productService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,cAAc,GAAG;EACrB;EACA,MAAMC,cAAcA,CAACC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IACxC,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,kBAAkB,EAAE;QACjDC,MAAM,EAAE;UAAEC,UAAU,EAAEL,IAAI;UAAEM,QAAQ,EAAEL;QAAM;MAC9C,CAAC,CAAC;MACF,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAME,qBAAqBA,CAACC,UAAU,EAAEV,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IAC3D,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,sBAAsBO,UAAU,WAAW,EAAE;QAC1EN,MAAM,EAAE;UAAEC,UAAU,EAAEL,IAAI;UAAEM,QAAQ,EAAEL;QAAM;MAC9C,CAAC,CAAC;MACF,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC7D,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAMI,cAAcA,CAACC,OAAO,EAAEZ,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IACjD,IAAI;MACF;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,4BAA4BU,kBAAkB,CAACD,OAAO,CAAC,EAAE,EAAE;QACxFR,MAAM,EAAE;UAAEC,UAAU,EAAEL,IAAI;UAAEM,QAAQ,EAAEL;QAAM;MAC9C,CAAC,CAAC;MACF,OAAOC,IAAI;IACb,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAMO,8BAA8BA,CAACJ,UAAU,EAAEE,OAAO,EAAEZ,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;IAC7E,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,4BAA4BU,kBAAkB,CAACD,OAAO,CAAC,EAAE,EAAE;QACxFR,MAAM,EAAE;UACNC,UAAU,EAAEL,IAAI;UAChBM,QAAQ,EAAEL,KAAK;UACfS,UAAU,EAAEA,UAAU,CAAC;QACzB;MACF,CAAC,CAAC;MACF,OAAOR,IAAI;IACb,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;MACpE,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAMQ,cAAcA,CAACC,SAAS,EAAE;IAC9B,IAAI;MACF,MAAM;QAAEd;MAAK,CAAC,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,oBAAoBa,SAAS,EAAE,CAAC;MAC/D,OAAOd,IAAI;IACb,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,MAAMA,KAAK;IACb;EACF;AACF,CAAC;AAED,eAAeT,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}