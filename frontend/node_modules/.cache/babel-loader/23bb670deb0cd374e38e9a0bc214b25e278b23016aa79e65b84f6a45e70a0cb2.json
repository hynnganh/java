{"ast":null,"code":"// import api from \"./api\";\n\n// const productService = {\n//   // ✅ Lấy tất cả sản phẩm\n//   async getAllProducts(page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/products`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Lấy theo danh mục\n//   async getProductsByCategory(categoryId, page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/categories/${categoryId}/products`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Tìm kiếm theo từ khóa (Fix đúng đường dẫn /keyword/{keyword})\n//   async searchProducts(keyword, page = 0, limit = 8) {\n//     try {\n//       // Backend của bạn dùng PathVariable cho keyword\n//       const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Tìm theo danh mục VÀ từ khóa\n//   async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n//         params: { \n//           pageNumber: page, \n//           pageSize: limit,\n//           categoryId: categoryId // Backend nhận categoryId làm RequestParam trong searchProductByKeyword\n//         }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Lấy chi tiết sản phẩm\n//   async getProductById(productId) {\n//     try {\n//       const { data } = await api.get(`/public/products/${productId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default productService;\n\nimport api from \"./api\";\nconst productService = {\n  // ✅ 1. Lấy danh sách sản phẩm dành riêng cho ADMIN (Hàm mới thêm)\n  async getAllProductsAD(page = 0, limit = 50) {\n    try {\n      const {\n        data\n      } = await api.get(`/admin/products`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi Admin lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n  // ✅ 2. Lấy tất cả sản phẩm (Public)\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n  // ✅ 3. Lấy theo danh mục\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n  // ✅ 4. Tìm kiếm theo từ khóa\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n  // ✅ 5. Tìm theo danh mục VÀ từ khóa\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: {\n          pageNumber: page,\n          pageSize: limit,\n          categoryId: categoryId\n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n  // ✅ 6. Lấy chi tiết sản phẩm\n  async getProductById(productId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n      throw error;\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProductsAD","page","limit","data","get","params","pageNumber","pageSize","error","console","getAllProducts","getProductsByCategory","categoryId","searchProducts","keyword","encodeURIComponent","getProductsByCategoryAndSearch","getProductById","productId"],"sources":["E:/Java/DoAn/frontend/src/services/productService.js"],"sourcesContent":["// import api from \"./api\";\n\n// const productService = {\n//   // ✅ Lấy tất cả sản phẩm\n//   async getAllProducts(page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/products`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Lấy theo danh mục\n//   async getProductsByCategory(categoryId, page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/categories/${categoryId}/products`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Tìm kiếm theo từ khóa (Fix đúng đường dẫn /keyword/{keyword})\n//   async searchProducts(keyword, page = 0, limit = 8) {\n//     try {\n//       // Backend của bạn dùng PathVariable cho keyword\n//       const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n//         params: { pageNumber: page, pageSize: limit }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Tìm theo danh mục VÀ từ khóa\n//   async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n//     try {\n//       const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n//         params: { \n//           pageNumber: page, \n//           pageSize: limit,\n//           categoryId: categoryId // Backend nhận categoryId làm RequestParam trong searchProductByKeyword\n//         }\n//       });\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n//       throw error;\n//     }\n//   },\n\n//   // ✅ Lấy chi tiết sản phẩm\n//   async getProductById(productId) {\n//     try {\n//       const { data } = await api.get(`/public/products/${productId}`);\n//       return data;\n//     } catch (error) {\n//       console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n//       throw error;\n//     }\n//   }\n// };\n\n// export default productService;\n\nimport api from \"./api\";\n\nconst productService = {\n  // ✅ 1. Lấy danh sách sản phẩm dành riêng cho ADMIN (Hàm mới thêm)\n  async getAllProductsAD(page = 0, limit = 50) {\n    try {\n      const { data } = await api.get(`/admin/products`, {\n        params: { \n          pageNumber: page, \n          pageSize: limit \n        }\n      });\n      return data; \n    } catch (error) {\n      console.error(\"❌ Lỗi Admin lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ 2. Lấy tất cả sản phẩm (Public)\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ 3. Lấy theo danh mục\n  async getProductsByCategory(categoryId, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/categories/${categoryId}/products`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ 4. Tìm kiếm theo từ khóa\n  async searchProducts(keyword, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: { pageNumber: page, pageSize: limit }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ 5. Tìm theo danh mục VÀ từ khóa\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 0, limit = 8) {\n    try {\n      const { data } = await api.get(`/public/products/keyword/${encodeURIComponent(keyword)}`, {\n        params: { \n          pageNumber: page, \n          pageSize: limit,\n          categoryId: categoryId \n        }\n      });\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n\n  // ✅ 6. Lấy chi tiết sản phẩm\n  async getProductById(productId) {\n    try {\n      const { data } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy chi tiết sản phẩm:\", error);\n      throw error;\n    }\n  }\n};\n\nexport default productService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}