{"ast":null,"code":"var _jsxFileName = \"E:\\\\Java\\\\DoAn\\\\frontend\\\\src\\\\pages\\\\product\\\\ProductReview.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ReactStars from 'react-stars';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductReview = ({\n  productId,\n  currentUser\n}) => {\n  _s();\n  const [reviews, setReviews] = useState([]);\n  const [canReview, setCanReview] = useState(false);\n  const [comment, setComment] = useState(\"\");\n  const [rating, setRating] = useState(5);\n  useEffect(() => {\n    fetchReviews();\n    checkReviewPermission();\n  }, [productId, currentUser]);\n  const fetchReviews = async () => {\n    try {\n      const res = await axios.get(`http://localhost:8080/api/public/products/${productId}/reviews`);\n      setReviews(res.data);\n    } catch (err) {\n      console.error(\"Lỗi lấy đánh giá:\", err);\n    }\n  };\n  const checkReviewPermission = async () => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.userId) {\n      try {\n        const res = await axios.get(`http://localhost:8080/api/public/can-review`, {\n          params: {\n            userId: currentUser.userId,\n            productId: productId\n          }\n        });\n        setCanReview(res.data);\n      } catch (err) {\n        setCanReview(false);\n      }\n    }\n  };\n  const handleSubmit = async () => {\n    if (!comment.trim()) {\n      Swal.fire({\n        icon: 'warning',\n        title: 'Thông báo',\n        text: 'Vui lòng nhập nội dung đánh giá!',\n        confirmButtonColor: '#0d6efd'\n      });\n      return;\n    }\n    try {\n      const reviewDTO = {\n        comment,\n        rating,\n        productId,\n        userId: currentUser.userId\n      };\n      const res = await axios.post(`http://localhost:8080/api/admin/reviews`, reviewDTO);\n      setReviews([res.data, ...reviews]);\n      setComment(\"\");\n      setCanReview(false);\n      Swal.fire({\n        icon: 'success',\n        title: 'Thành công',\n        text: 'Cảm ơn đóng góp của bạn!',\n        timer: 1500,\n        showConfirmButton: false\n      });\n    } catch (err) {\n      Swal.fire('Lỗi', 'Không thể gửi đánh giá, vui lòng thử lại sau!', 'error');\n    }\n  };\n  const avgRating = reviews.length > 0 ? (reviews.reduce((acc, r) => acc + r.rating, 0) / reviews.length).toFixed(1) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-section mt-5 pt-5 pb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-dot me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"fw-bold text-dark mb-0 ls-1\",\n        children: \"\\u0110\\xC1NH GI\\xC1 S\\u1EA2N PH\\u1EA8M\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rating-summary-card h-100 p-4 text-center d-flex flex-column justify-content-center shadow-sm border-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"rating-number mb-0\",\n            children: avgRating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center my-2\",\n            children: /*#__PURE__*/_jsxDEV(ReactStars, {\n              count: 5,\n              size: 35,\n              value: parseFloat(avgRating),\n              edit: false,\n              color2: '#ffc107'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted fw-medium\",\n            children: [reviews.length, \" nh\\u1EADn x\\xE9t\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-8\",\n        children: canReview ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"write-review-card p-4 h-100 shadow-sm bg-white border-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"fw-bold mb-3\",\n            children: \"G\\u1EEDi \\u0111\\xE1nh gi\\xE1 c\\u1EE7a b\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-input-group mb-3 d-flex align-items-center gap-3 p-2 px-3 rounded-pill bg-light w-fit\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"small fw-bold text-secondary\",\n              children: \"\\u0110\\u1ED9 h\\xE0i l\\xF2ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n              count: 5,\n              size: 25,\n              value: rating,\n              onChange: newRating => setRating(newRating),\n              color2: '#ffc107'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control review-textarea shadow-none border-light bg-light\",\n            rows: \"3\",\n            value: comment,\n            onChange: e => setComment(e.target.value),\n            placeholder: \"S\\u1EA3n ph\\u1EA9m tuy\\u1EC7t v\\u1EDDi, t\\xF4i r\\u1EA5t th\\xEDch...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-dark px-4 py-2 rounded-pill fw-bold btn-hover-scale\",\n              onClick: handleSubmit,\n              children: [\"G\\u1EEDi \\u0111\\xE1nh gi\\xE1 ngay \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-send-fill ms-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-review-access p-4 h-100 rounded-4 d-flex align-items-center justify-content-center text-center bg-light border-dashed\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-shield-lock h2 text-muted mb-3 d-block\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"fw-bold text-dark\",\n              children: \"Quy\\u1EC1n \\u0111\\xE1nh gi\\xE1 b\\u1ECB gi\\u1EDBi h\\u1EA1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"small text-muted mb-0\",\n              children: \"B\\u1EA1n c\\u1EA7n ho\\xE0n t\\u1EA5t \\u0111\\u01A1n h\\xE0ng v\\xE0 nh\\u1EADn s\\u1EA3n ph\\u1EA9m \\u0111\\u1EC3 c\\xF3 th\\u1EC3 vi\\u1EBFt \\u0111\\xE1nh gi\\xE1 t\\u1EA1i \\u0111\\xE2y.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-list d-flex flex-column gap-3\",\n          children: reviews.length > 0 ? reviews.map(r => {\n            var _r$userName;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"review-item-card p-4 transition-all bg-white border-bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review-avatar-box me-3\",\n                    children: (_r$userName = r.userName) === null || _r$userName === void 0 ? void 0 : _r$userName.charAt(0).toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0 fw-bold text-dark\",\n                      children: r.userName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex align-items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(ReactStars, {\n                        count: 5,\n                        size: 14,\n                        edit: false,\n                        value: r.rating,\n                        color2: '#ffc107'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"verified-badge\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"bi bi-check-circle-fill me-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 30\n                        }, this), \" \\u0110\\xE3 mua h\\xE0ng\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"review-date\",\n                  children: new Date(r.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review-comment-body mt-3\",\n                children: r.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)]\n            }, r.reviewId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-5 border rounded-4 bg-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-chat-left-dots h1 text-muted opacity-25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mt-2 mb-0\",\n              children: \"Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o cho s\\u1EA3n ph\\u1EA9m n\\xE0y.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .ls-1 { letter-spacing: 1px; }\n        .w-fit { width: fit-content; }\n        .border-dashed { border: 2px dashed #dee2e6; }\n        \n        .review-dot { width: 12px; height: 12px; background: #000; border-radius: 3px; }\n        \n        .rating-summary-card { border-radius: 20px; }\n        .rating-number { font-size: 4rem; font-weight: 800; color: #1a1a1a; }\n        \n        .write-review-card { border-radius: 20px; }\n        .review-textarea { border-radius: 15px; padding: 15px; border: 1px solid #eee; }\n        .review-textarea:focus { background: #fff; border-color: #000; }\n\n        .review-item-card { border-radius: 0; border: none; }\n        .review-item-card:hover { background-color: #fafafa; }\n\n        .review-avatar-box {\n          width: 48px; height: 48px; \n          background: #f0f0f0; color: #555;\n          border-radius: 12px; display: flex;\n          align-items: center; justify-content: center;\n          font-weight: 700; font-size: 1.1rem;\n          border: 1px solid #eee;\n        }\n\n        .verified-badge {\n          background: #e6f7ef; color: #198754;\n          font-size: 0.65rem; font-weight: 700;\n          padding: 2px 8px; border-radius: 4px;\n          text-transform: uppercase;\n        }\n\n        .review-date { font-size: 0.75rem; color: #aaa; font-weight: 500; }\n        .review-comment-body { color: #444; line-height: 1.6; font-size: 0.95rem; }\n\n        .btn-hover-scale { transition: all 0.2s; }\n        .btn-hover-scale:hover { transform: scale(1.03); opacity: 0.9; }\n\n        .transition-all { transition: all 0.3s ease; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductReview, \"S/9Q7YTGeRNqcPc3BJyaOUpat6Q=\");\n_c = ProductReview;\nexport default ProductReview;\nvar _c;\n$RefreshReg$(_c, \"ProductReview\");","map":{"version":3,"names":["React","useState","useEffect","ReactStars","axios","Swal","jsxDEV","_jsxDEV","ProductReview","productId","currentUser","_s","reviews","setReviews","canReview","setCanReview","comment","setComment","rating","setRating","fetchReviews","checkReviewPermission","res","get","data","err","console","error","userId","params","handleSubmit","trim","fire","icon","title","text","confirmButtonColor","reviewDTO","post","timer","showConfirmButton","avgRating","length","reduce","acc","r","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","count","size","value","parseFloat","edit","color2","onChange","newRating","rows","e","target","placeholder","onClick","map","_r$userName","userName","charAt","toUpperCase","Date","createdAt","toLocaleDateString","reviewId","_c","$RefreshReg$"],"sources":["E:/Java/DoAn/frontend/src/pages/product/ProductReview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactStars from 'react-stars';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst ProductReview = ({ productId, currentUser }) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [canReview, setCanReview] = useState(false);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [rating, setRating] = useState(5);\r\n\r\n  useEffect(() => {\r\n    fetchReviews();\r\n    checkReviewPermission();\r\n  }, [productId, currentUser]);\r\n\r\n  const fetchReviews = async () => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:8080/api/public/products/${productId}/reviews`);\r\n      setReviews(res.data);\r\n    } catch (err) {\r\n      console.error(\"Lỗi lấy đánh giá:\", err);\r\n    }\r\n  };\r\n\r\n  const checkReviewPermission = async () => {\r\n    if (currentUser?.userId) {\r\n      try {\r\n        const res = await axios.get(`http://localhost:8080/api/public/can-review`, {\r\n          params: { userId: currentUser.userId, productId: productId }\r\n        });\r\n        setCanReview(res.data);\r\n      } catch (err) {\r\n        setCanReview(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!comment.trim()) {\r\n      Swal.fire({ icon: 'warning', title: 'Thông báo', text: 'Vui lòng nhập nội dung đánh giá!', confirmButtonColor: '#0d6efd' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const reviewDTO = { comment, rating, productId, userId: currentUser.userId };\r\n      const res = await axios.post(`http://localhost:8080/api/admin/reviews`, reviewDTO);\r\n      setReviews([res.data, ...reviews]);\r\n      setComment(\"\");\r\n      setCanReview(false);\r\n      Swal.fire({ icon: 'success', title: 'Thành công', text: 'Cảm ơn đóng góp của bạn!', timer: 1500, showConfirmButton: false });\r\n    } catch (err) {\r\n      Swal.fire('Lỗi', 'Không thể gửi đánh giá, vui lòng thử lại sau!', 'error');\r\n    }\r\n  };\r\n\r\n  const avgRating = reviews.length > 0 \r\n    ? (reviews.reduce((acc, r) => acc + r.rating, 0) / reviews.length).toFixed(1) \r\n    : 0;\r\n\r\n  return (\r\n    <div className=\"review-section mt-5 pt-5 pb-5\">\r\n      {/* Header Section */}\r\n      <div className=\"d-flex align-items-center mb-4\">\r\n        <div className=\"review-dot me-2\"></div>\r\n        <h4 className=\"fw-bold text-dark mb-0 ls-1\">ĐÁNH GIÁ SẢN PHẨM</h4>\r\n      </div>\r\n\r\n      <div className=\"row g-4\">\r\n        {/* TỔNG QUAN ĐIỂM SỐ */}\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"rating-summary-card h-100 p-4 text-center d-flex flex-column justify-content-center shadow-sm border-0 bg-white\">\r\n            <h1 className=\"rating-number mb-0\">{avgRating}</h1>\r\n            <div className=\"d-flex justify-content-center my-2\">\r\n              <ReactStars count={5} size={35} value={parseFloat(avgRating)} edit={false} color2={'#ffc107'} />\r\n            </div>\r\n            <p className=\"text-muted fw-medium\">{reviews.length} nhận xét</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* FORM GỬI ĐÁNH GIÁ */}\r\n        <div className=\"col-lg-8\">\r\n          {canReview ? (\r\n            <div className=\"write-review-card p-4 h-100 shadow-sm bg-white border-0\">\r\n              <h5 className=\"fw-bold mb-3\">Gửi đánh giá của bạn</h5>\r\n              <div className=\"rating-input-group mb-3 d-flex align-items-center gap-3 p-2 px-3 rounded-pill bg-light w-fit\">\r\n                <span className=\"small fw-bold text-secondary\">Độ hài lòng:</span>\r\n                <ReactStars count={5} size={25} value={rating} onChange={(newRating) => setRating(newRating)} color2={'#ffc107'} />\r\n              </div>\r\n              <textarea \r\n                className=\"form-control review-textarea shadow-none border-light bg-light\" \r\n                rows=\"3\" \r\n                value={comment} \r\n                onChange={(e) => setComment(e.target.value)}\r\n                placeholder=\"Sản phẩm tuyệt vời, tôi rất thích...\"\r\n              ></textarea>\r\n              <div className=\"text-end mt-3\">\r\n                <button className=\"btn btn-dark px-4 py-2 rounded-pill fw-bold btn-hover-scale\" onClick={handleSubmit}>\r\n                  Gửi đánh giá ngay <i className=\"bi bi-send-fill ms-2\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-review-access p-4 h-100 rounded-4 d-flex align-items-center justify-content-center text-center bg-light border-dashed\">\r\n              <div className=\"px-3\">\r\n                <i className=\"bi bi-shield-lock h2 text-muted mb-3 d-block\"></i>\r\n                <h6 className=\"fw-bold text-dark\">Quyền đánh giá bị giới hạn</h6>\r\n                <p className=\"small text-muted mb-0\">Bạn cần hoàn tất đơn hàng và nhận sản phẩm để có thể viết đánh giá tại đây.</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* DANH SÁCH CÁC REVIEW */}\r\n        <div className=\"col-12 mt-5\">\r\n          <div className=\"review-list d-flex flex-column gap-3\">\r\n            {reviews.length > 0 ? (\r\n              reviews.map((r) => (\r\n                <div key={r.reviewId} className=\"review-item-card p-4 transition-all bg-white border-bottom\">\r\n                  <div className=\"d-flex justify-content-between align-items-start\">\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"review-avatar-box me-3\">\r\n                        {r.userName?.charAt(0).toUpperCase()}\r\n                      </div>\r\n                      <div>\r\n                        <h6 className=\"mb-0 fw-bold text-dark\">{r.userName}</h6>\r\n                        <div className=\"d-flex align-items-center gap-2\">\r\n                          <ReactStars count={5} size={14} edit={false} value={r.rating} color2={'#ffc107'} />\r\n                          <span className=\"verified-badge\">\r\n                             <i className=\"bi bi-check-circle-fill me-1\"></i> Đã mua hàng\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"review-date\">{new Date(r.createdAt).toLocaleDateString()}</span>\r\n                  </div>\r\n                  <div className=\"review-comment-body mt-3\">\r\n                    {r.comment}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"text-center py-5 border rounded-4 bg-light\">\r\n                <i className=\"bi bi-chat-left-dots h1 text-muted opacity-25\"></i>\r\n                <p className=\"text-muted mt-2 mb-0\">Chưa có đánh giá nào cho sản phẩm này.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .ls-1 { letter-spacing: 1px; }\r\n        .w-fit { width: fit-content; }\r\n        .border-dashed { border: 2px dashed #dee2e6; }\r\n        \r\n        .review-dot { width: 12px; height: 12px; background: #000; border-radius: 3px; }\r\n        \r\n        .rating-summary-card { border-radius: 20px; }\r\n        .rating-number { font-size: 4rem; font-weight: 800; color: #1a1a1a; }\r\n        \r\n        .write-review-card { border-radius: 20px; }\r\n        .review-textarea { border-radius: 15px; padding: 15px; border: 1px solid #eee; }\r\n        .review-textarea:focus { background: #fff; border-color: #000; }\r\n\r\n        .review-item-card { border-radius: 0; border: none; }\r\n        .review-item-card:hover { background-color: #fafafa; }\r\n\r\n        .review-avatar-box {\r\n          width: 48px; height: 48px; \r\n          background: #f0f0f0; color: #555;\r\n          border-radius: 12px; display: flex;\r\n          align-items: center; justify-content: center;\r\n          font-weight: 700; font-size: 1.1rem;\r\n          border: 1px solid #eee;\r\n        }\r\n\r\n        .verified-badge {\r\n          background: #e6f7ef; color: #198754;\r\n          font-size: 0.65rem; font-weight: 700;\r\n          padding: 2px 8px; border-radius: 4px;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .review-date { font-size: 0.75rem; color: #aaa; font-weight: 500; }\r\n        .review-comment-body { color: #444; line-height: 1.6; font-size: 0.95rem; }\r\n\r\n        .btn-hover-scale { transition: all 0.2s; }\r\n        .btn-hover-scale:hover { transform: scale(1.03); opacity: 0.9; }\r\n\r\n        .transition-all { transition: all 0.3s ease; }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductReview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}