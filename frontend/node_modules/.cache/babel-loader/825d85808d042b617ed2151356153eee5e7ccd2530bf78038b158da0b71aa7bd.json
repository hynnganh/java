{"ast":null,"code":"// src/services/productService.js\nimport api from \"./api\";\nconst productService = {\n  /**\n   * ✅ Lấy tất cả sản phẩm (có hỗ trợ phân trang)\n   * @param {number} page - Trang hiện tại (zero-based)\n   * @param {number} limit - Số sản phẩm mỗi trang\n   */\n  async getAllProducts(page = 0, limit = 8) {\n    try {\n      const safePage = Math.max(0, page);\n      // Thử với các parameter names khác nhau\n      const {\n        data\n      } = await api.get(`/public/products?pageNumber=${safePage}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy chi tiết sản phẩm theo ID\n   */\n  async getProductById(productId) {\n    try {\n      const {\n        data\n      } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n  * ✅ Lấy sản phẩm theo danh mục (có phân trang)\n  */\n  async getProductsByCategory(categoryId, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products?page=${safePage}&limit=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Tìm kiếm sản phẩm theo từ khóa (có phân trang)\n   */\n  async searchProducts(keyword, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const {\n        data\n      } = await api.get(`/public/products/search?keyword=${encodeURIComponent(keyword)}&page=${safePage}&limit=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n  /**\n   * ✅ Lấy sản phẩm theo danh mục và từ khóa (có phân trang)\n   */\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const {\n        data\n      } = await api.get(`/public/categories/${categoryId}/products/search?keyword=${encodeURIComponent(keyword)}&page=${safePage}&limit=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  }\n};\nexport default productService;","map":{"version":3,"names":["api","productService","getAllProducts","page","limit","safePage","Math","max","data","get","error","console","getProductById","productId","getProductsByCategory","categoryId","searchProducts","keyword","encodeURIComponent","getProductsByCategoryAndSearch"],"sources":["D:/JVA/frontend/src/services/productService.js"],"sourcesContent":["// src/services/productService.js\nimport api from \"./api\";\n\nconst productService = {\n  /**\n   * ✅ Lấy tất cả sản phẩm (có hỗ trợ phân trang)\n   * @param {number} page - Trang hiện tại (zero-based)\n   * @param {number} limit - Số sản phẩm mỗi trang\n   */\n   async getAllProducts(page = 0, limit = 8) {\n    try {\n      const safePage = Math.max(0, page);\n      // Thử với các parameter names khác nhau\n      const { data } = await api.get(`/public/products?pageNumber=${safePage}&pageSize=${limit}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy danh sách sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy chi tiết sản phẩm theo ID\n   */\n  async getProductById(productId) {\n    try {\n      const { data } = await api.get(`/public/products/${productId}`);\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n   /**\n   * ✅ Lấy sản phẩm theo danh mục (có phân trang)\n   */\n  async getProductsByCategory(categoryId, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const { data } = await api.get(\n        `/public/categories/${categoryId}/products?page=${safePage}&limit=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Tìm kiếm sản phẩm theo từ khóa (có phân trang)\n   */\n  async searchProducts(keyword, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const { data } = await api.get(\n        `/public/products/search?keyword=${encodeURIComponent(keyword)}&page=${safePage}&limit=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi tìm kiếm sản phẩm:\", error);\n      throw error;\n    }\n  },\n\n  /**\n   * ✅ Lấy sản phẩm theo danh mục và từ khóa (có phân trang)\n   */\n  async getProductsByCategoryAndSearch(categoryId, keyword, page = 1, limit = 8) {\n    try {\n      const safePage = Math.max(1, page);\n      const { data } = await api.get(\n        `/public/categories/${categoryId}/products/search?keyword=${encodeURIComponent(keyword)}&page=${safePage}&limit=${limit}`\n      );\n      return data;\n    } catch (error) {\n      console.error(\"❌ Lỗi khi lấy sản phẩm theo danh mục và từ khóa:\", error);\n      throw error;\n    }\n  },\n};\n\nexport default productService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}